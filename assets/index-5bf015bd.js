var Li=Object.defineProperty;var Pi=(r,e,t)=>e in r?Li(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t;var fe=(r,e,t)=>(Pi(r,typeof e!="symbol"?e+"":e,t),t);import{j as ot,g as Mi,w as Wn,f as Ni,a as ce,r as le,p as Ht,k as T,e as N,t as pt,h as Xn,s as Ii,K as Ve,L as at,M,D as Fi,G as ke,R as q,Q as Z,P as Di,V as Hi,c as hn,W as Bi,X as ji,Y as $i,Z as zi}from"./vue-2ad6a734.js";import{c as L,a as V,b as me,d as Yn,u as tn,e as Ge,f as Zn,k as pn,g as Vi,h as mt,i as mn,j as Ui,l as pe,m as Qn,r as Gi,w as gn,N as Jn,S as ei,E as ti,W as ni,I as ii,p as qi,n as ri,o as Ki,_ as Wi,R as Xi,T as Yi,q as Zi}from"./index-cd97e2c1.js";import{E as Qi,V as Q,M as Fe,T as De,Q as yt,S as _n,a as ie,b as Ji,c as Bt,d as si,L as er,e as jt,F as oi,C as Le,f as tr,P as nr,D as ai,g as Ze,s as Ue,h as Pe,I as ir,O as li,i as rr,j as sr,B as Ot,k as or,l as ci,m as di,R as $t,n as ar,o as Lt,p as lr,q as ui,r as cr,t as dr,u as ur,v as fr,w as hr,x as pr,y as mr,z as gr,A as _r,G as Pt,H as fi,J as br,K as vr,N as yr,U as hi,W as wr,X as xr,Y as wt,Z as Er,_ as Tr,$ as Ar,a0 as Sr,a1 as Rr,a2 as Cr,a3 as kr,a4 as Or,a5 as Lr,a6 as bn,a7 as Pr,a8 as vn,a9 as Mr,aa as Nr,ab as Ir,ac as Fr,ad as Dr,ae as Hr,af as Br,ag as jr,ah as $r,ai as zr,aj as Vr}from"./three-e13ab4a1.js";import{f as ve,g as pi,N as Ur}from"./Icon-8ead88f6.js";import{_ as Gr,a as qr}from"./Checkbox-adac6faf.js";function Kr(r,e,t){var n;const i=ot(r,null);if(i===null)return;const s=(n=Mi())===null||n===void 0?void 0:n.proxy;Wn(t,o),o(t.value),Ni(()=>{o(void 0,t.value)});function o(d,u){const c=i[e];u!==void 0&&a(c,u),d!==void 0&&l(c,d)}function a(d,u){d[u]||(d[u]=[]),d[u].splice(d[u].findIndex(c=>c===s),1)}function l(d,u){d[u]||(d[u]=[]),~d[u].findIndex(c=>c===s)||d[u].push(s)}}const Wr=L("form",[V("inline",`
 width: 100%;
 display: inline-flex;
 align-items: flex-start;
 align-content: space-around;
 `,[L("form-item",{width:"auto",marginRight:"18px"},[me("&:last-child",{marginRight:0})])])]),lt=Yn("n-form"),mi=Yn("n-form-item-insts");var Xr=globalThis&&globalThis.__awaiter||function(r,e,t,n){function i(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(u){try{d(n.next(u))}catch(c){o(c)}}function l(u){try{d(n.throw(u))}catch(c){o(c)}}function d(u){u.done?s(u.value):i(u.value).then(a,l)}d((n=n.apply(r,e||[])).next())})};const Yr=Object.assign(Object.assign({},Ge.props),{inline:Boolean,labelWidth:[Number,String],labelAlign:String,labelPlacement:{type:String,default:"top"},model:{type:Object,default:()=>{}},rules:Object,disabled:Boolean,size:String,showRequireMark:{type:Boolean,default:void 0},requireMarkPlacement:String,showFeedback:{type:Boolean,default:!0},onSubmit:{type:Function,default:r=>r.preventDefault()},showLabel:{type:Boolean,default:void 0},validateMessages:Object}),Zr=ce({name:"Form",props:Yr,setup(r){const{mergedClsPrefixRef:e}=tn(r);Ge("Form","-form",Wr,Zn,r,e);const t={},n=le(void 0),i=l=>{const d=n.value;(d===void 0||l>=d)&&(n.value=l)};function s(l,d=()=>!0){return Xr(this,void 0,void 0,function*(){return yield new Promise((u,c)=>{const f=[];for(const h of pn(t)){const v=t[h];for(const m of v)m.path&&f.push(m.internalValidate(null,d))}Promise.all(f).then(h=>{if(h.some(v=>!v.valid)){const v=h.filter(m=>m.errors).map(m=>m.errors);l&&l(v),c(v)}else l&&l(),u()})})})}function o(){for(const l of pn(t)){const d=t[l];for(const u of d)u.restoreValidation()}}return Ht(lt,{props:r,maxChildLabelWidthRef:n,deriveMaxChildLabelWidth:i}),Ht(mi,{formItems:t}),Object.assign({validate:s,restoreValidation:o},{mergedClsPrefix:e})},render(){const{mergedClsPrefix:r}=this;return T("form",{class:[`${r}-form`,this.inline&&`${r}-form--inline`],onSubmit:this.onSubmit},this.$slots)}});function Oe(){return Oe=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r},Oe.apply(this,arguments)}function Qr(r,e){r.prototype=Object.create(e.prototype),r.prototype.constructor=r,rt(r,e)}function zt(r){return zt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},zt(r)}function rt(r,e){return rt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},rt(r,e)}function Jr(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function vt(r,e,t){return Jr()?vt=Reflect.construct.bind():vt=function(i,s,o){var a=[null];a.push.apply(a,s);var l=Function.bind.apply(i,a),d=new l;return o&&rt(d,o.prototype),d},vt.apply(null,arguments)}function es(r){return Function.toString.call(r).indexOf("[native code]")!==-1}function Vt(r){var e=typeof Map=="function"?new Map:void 0;return Vt=function(n){if(n===null||!es(n))return n;if(typeof n!="function")throw new TypeError("Super expression must either be null or a function");if(typeof e<"u"){if(e.has(n))return e.get(n);e.set(n,i)}function i(){return vt(n,arguments,zt(this).constructor)}return i.prototype=Object.create(n.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),rt(i,n)},Vt(r)}var ts=/%[sdj%]/g,ns=function(){};function Ut(r){if(!r||!r.length)return null;var e={};return r.forEach(function(t){var n=t.field;e[n]=e[n]||[],e[n].push(t)}),e}function te(r){for(var e=arguments.length,t=new Array(e>1?e-1:0),n=1;n<e;n++)t[n-1]=arguments[n];var i=0,s=t.length;if(typeof r=="function")return r.apply(null,t);if(typeof r=="string"){var o=r.replace(ts,function(a){if(a==="%%")return"%";if(i>=s)return a;switch(a){case"%s":return String(t[i++]);case"%d":return Number(t[i++]);case"%j":try{return JSON.stringify(t[i++])}catch{return"[Circular]"}break;default:return a}});return o}return r}function is(r){return r==="string"||r==="url"||r==="hex"||r==="email"||r==="date"||r==="pattern"}function U(r,e){return!!(r==null||e==="array"&&Array.isArray(r)&&!r.length||is(e)&&typeof r=="string"&&!r)}function rs(r,e,t){var n=[],i=0,s=r.length;function o(a){n.push.apply(n,a||[]),i++,i===s&&t(n)}r.forEach(function(a){e(a,o)})}function yn(r,e,t){var n=0,i=r.length;function s(o){if(o&&o.length){t(o);return}var a=n;n=n+1,a<i?e(r[a],s):t([])}s([])}function ss(r){var e=[];return Object.keys(r).forEach(function(t){e.push.apply(e,r[t]||[])}),e}var wn=function(r){Qr(e,r);function e(t,n){var i;return i=r.call(this,"Async Validation Error")||this,i.errors=t,i.fields=n,i}return e}(Vt(Error));function os(r,e,t,n,i){if(e.first){var s=new Promise(function(f,h){var v=function(_){return n(_),_.length?h(new wn(_,Ut(_))):f(i)},m=ss(r);yn(m,t,v)});return s.catch(function(f){return f}),s}var o=e.firstFields===!0?Object.keys(r):e.firstFields||[],a=Object.keys(r),l=a.length,d=0,u=[],c=new Promise(function(f,h){var v=function(b){if(u.push.apply(u,b),d++,d===l)return n(u),u.length?h(new wn(u,Ut(u))):f(i)};a.length||(n(u),f(i)),a.forEach(function(m){var b=r[m];o.indexOf(m)!==-1?yn(b,t,v):rs(b,t,v)})});return c.catch(function(f){return f}),c}function as(r){return!!(r&&r.message!==void 0)}function ls(r,e){for(var t=r,n=0;n<e.length;n++){if(t==null)return t;t=t[e[n]]}return t}function xn(r,e){return function(t){var n;return r.fullFields?n=ls(e,r.fullFields):n=e[t.field||r.fullField],as(t)?(t.field=t.field||r.fullField,t.fieldValue=n,t):{message:typeof t=="function"?t():t,fieldValue:n,field:t.field||r.fullField}}}function En(r,e){if(e){for(var t in e)if(e.hasOwnProperty(t)){var n=e[t];typeof n=="object"&&typeof r[t]=="object"?r[t]=Oe({},r[t],n):r[t]=n}}return r}var gi=function(e,t,n,i,s,o){e.required&&(!n.hasOwnProperty(e.field)||U(t,o||e.type))&&i.push(te(s.messages.required,e.fullField))},cs=function(e,t,n,i,s){(/^\s+$/.test(t)||t==="")&&i.push(te(s.messages.whitespace,e.fullField))},gt,ds=function(){if(gt)return gt;var r="[a-fA-F\\d:]",e=function(x){return x&&x.includeBoundaries?"(?:(?<=\\s|^)(?="+r+")|(?<="+r+")(?=\\s|$))":""},t="(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}",n="[a-fA-F\\d]{1,4}",i=(`
(?:
(?:`+n+":){7}(?:"+n+`|:)|                                    // 1:2:3:4:5:6:7::  1:2:3:4:5:6:7:8
(?:`+n+":){6}(?:"+t+"|:"+n+`|:)|                             // 1:2:3:4:5:6::    1:2:3:4:5:6::8   1:2:3:4:5:6::8  1:2:3:4:5:6::1.2.3.4
(?:`+n+":){5}(?::"+t+"|(?::"+n+`){1,2}|:)|                   // 1:2:3:4:5::      1:2:3:4:5::7:8   1:2:3:4:5::8    1:2:3:4:5::7:1.2.3.4
(?:`+n+":){4}(?:(?::"+n+"){0,1}:"+t+"|(?::"+n+`){1,3}|:)| // 1:2:3:4::        1:2:3:4::6:7:8   1:2:3:4::8      1:2:3:4::6:7:1.2.3.4
(?:`+n+":){3}(?:(?::"+n+"){0,2}:"+t+"|(?::"+n+`){1,4}|:)| // 1:2:3::          1:2:3::5:6:7:8   1:2:3::8        1:2:3::5:6:7:1.2.3.4
(?:`+n+":){2}(?:(?::"+n+"){0,3}:"+t+"|(?::"+n+`){1,5}|:)| // 1:2::            1:2::4:5:6:7:8   1:2::8          1:2::4:5:6:7:1.2.3.4
(?:`+n+":){1}(?:(?::"+n+"){0,4}:"+t+"|(?::"+n+`){1,6}|:)| // 1::              1::3:4:5:6:7:8   1::8            1::3:4:5:6:7:1.2.3.4
(?::(?:(?::`+n+"){0,5}:"+t+"|(?::"+n+`){1,7}|:))             // ::2:3:4:5:6:7:8  ::2:3:4:5:6:7:8  ::8             ::1.2.3.4
)(?:%[0-9a-zA-Z]{1,})?                                             // %eth0            %1
`).replace(/\s*\/\/.*$/gm,"").replace(/\n/g,"").trim(),s=new RegExp("(?:^"+t+"$)|(?:^"+i+"$)"),o=new RegExp("^"+t+"$"),a=new RegExp("^"+i+"$"),l=function(x){return x&&x.exact?s:new RegExp("(?:"+e(x)+t+e(x)+")|(?:"+e(x)+i+e(x)+")","g")};l.v4=function(w){return w&&w.exact?o:new RegExp(""+e(w)+t+e(w),"g")},l.v6=function(w){return w&&w.exact?a:new RegExp(""+e(w)+i+e(w),"g")};var d="(?:(?:[a-z]+:)?//)",u="(?:\\S+(?::\\S*)?@)?",c=l.v4().source,f=l.v6().source,h="(?:(?:[a-z\\u00a1-\\uffff0-9][-_]*)*[a-z\\u00a1-\\uffff0-9]+)",v="(?:\\.(?:[a-z\\u00a1-\\uffff0-9]-*)*[a-z\\u00a1-\\uffff0-9]+)*",m="(?:\\.(?:[a-z\\u00a1-\\uffff]{2,}))",b="(?::\\d{2,5})?",_='(?:[/?#][^\\s"]*)?',A="(?:"+d+"|www\\.)"+u+"(?:localhost|"+c+"|"+f+"|"+h+v+m+")"+b+_;return gt=new RegExp("(?:^"+A+"$)","i"),gt},Tn={email:/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+\.)+[a-zA-Z\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]{2,}))$/,hex:/^#?([a-f0-9]{6}|[a-f0-9]{3})$/i},Qe={integer:function(e){return Qe.number(e)&&parseInt(e,10)===e},float:function(e){return Qe.number(e)&&!Qe.integer(e)},array:function(e){return Array.isArray(e)},regexp:function(e){if(e instanceof RegExp)return!0;try{return!!new RegExp(e)}catch{return!1}},date:function(e){return typeof e.getTime=="function"&&typeof e.getMonth=="function"&&typeof e.getYear=="function"&&!isNaN(e.getTime())},number:function(e){return isNaN(e)?!1:typeof e=="number"},object:function(e){return typeof e=="object"&&!Qe.array(e)},method:function(e){return typeof e=="function"},email:function(e){return typeof e=="string"&&e.length<=320&&!!e.match(Tn.email)},url:function(e){return typeof e=="string"&&e.length<=2048&&!!e.match(ds())},hex:function(e){return typeof e=="string"&&!!e.match(Tn.hex)}},us=function(e,t,n,i,s){if(e.required&&t===void 0){gi(e,t,n,i,s);return}var o=["integer","float","array","regexp","object","method","email","number","date","url","hex"],a=e.type;o.indexOf(a)>-1?Qe[a](t)||i.push(te(s.messages.types[a],e.fullField,e.type)):a&&typeof t!==e.type&&i.push(te(s.messages.types[a],e.fullField,e.type))},fs=function(e,t,n,i,s){var o=typeof e.len=="number",a=typeof e.min=="number",l=typeof e.max=="number",d=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,u=t,c=null,f=typeof t=="number",h=typeof t=="string",v=Array.isArray(t);if(f?c="number":h?c="string":v&&(c="array"),!c)return!1;v&&(u=t.length),h&&(u=t.replace(d,"_").length),o?u!==e.len&&i.push(te(s.messages[c].len,e.fullField,e.len)):a&&!l&&u<e.min?i.push(te(s.messages[c].min,e.fullField,e.min)):l&&!a&&u>e.max?i.push(te(s.messages[c].max,e.fullField,e.max)):a&&l&&(u<e.min||u>e.max)&&i.push(te(s.messages[c].range,e.fullField,e.min,e.max))},He="enum",hs=function(e,t,n,i,s){e[He]=Array.isArray(e[He])?e[He]:[],e[He].indexOf(t)===-1&&i.push(te(s.messages[He],e.fullField,e[He].join(", ")))},ps=function(e,t,n,i,s){if(e.pattern){if(e.pattern instanceof RegExp)e.pattern.lastIndex=0,e.pattern.test(t)||i.push(te(s.messages.pattern.mismatch,e.fullField,t,e.pattern));else if(typeof e.pattern=="string"){var o=new RegExp(e.pattern);o.test(t)||i.push(te(s.messages.pattern.mismatch,e.fullField,t,e.pattern))}}},k={required:gi,whitespace:cs,type:us,range:fs,enum:hs,pattern:ps},ms=function(e,t,n,i,s){var o=[],a=e.required||!e.required&&i.hasOwnProperty(e.field);if(a){if(U(t,"string")&&!e.required)return n();k.required(e,t,i,o,s,"string"),U(t,"string")||(k.type(e,t,i,o,s),k.range(e,t,i,o,s),k.pattern(e,t,i,o,s),e.whitespace===!0&&k.whitespace(e,t,i,o,s))}n(o)},gs=function(e,t,n,i,s){var o=[],a=e.required||!e.required&&i.hasOwnProperty(e.field);if(a){if(U(t)&&!e.required)return n();k.required(e,t,i,o,s),t!==void 0&&k.type(e,t,i,o,s)}n(o)},_s=function(e,t,n,i,s){var o=[],a=e.required||!e.required&&i.hasOwnProperty(e.field);if(a){if(t===""&&(t=void 0),U(t)&&!e.required)return n();k.required(e,t,i,o,s),t!==void 0&&(k.type(e,t,i,o,s),k.range(e,t,i,o,s))}n(o)},bs=function(e,t,n,i,s){var o=[],a=e.required||!e.required&&i.hasOwnProperty(e.field);if(a){if(U(t)&&!e.required)return n();k.required(e,t,i,o,s),t!==void 0&&k.type(e,t,i,o,s)}n(o)},vs=function(e,t,n,i,s){var o=[],a=e.required||!e.required&&i.hasOwnProperty(e.field);if(a){if(U(t)&&!e.required)return n();k.required(e,t,i,o,s),U(t)||k.type(e,t,i,o,s)}n(o)},ys=function(e,t,n,i,s){var o=[],a=e.required||!e.required&&i.hasOwnProperty(e.field);if(a){if(U(t)&&!e.required)return n();k.required(e,t,i,o,s),t!==void 0&&(k.type(e,t,i,o,s),k.range(e,t,i,o,s))}n(o)},ws=function(e,t,n,i,s){var o=[],a=e.required||!e.required&&i.hasOwnProperty(e.field);if(a){if(U(t)&&!e.required)return n();k.required(e,t,i,o,s),t!==void 0&&(k.type(e,t,i,o,s),k.range(e,t,i,o,s))}n(o)},xs=function(e,t,n,i,s){var o=[],a=e.required||!e.required&&i.hasOwnProperty(e.field);if(a){if(t==null&&!e.required)return n();k.required(e,t,i,o,s,"array"),t!=null&&(k.type(e,t,i,o,s),k.range(e,t,i,o,s))}n(o)},Es=function(e,t,n,i,s){var o=[],a=e.required||!e.required&&i.hasOwnProperty(e.field);if(a){if(U(t)&&!e.required)return n();k.required(e,t,i,o,s),t!==void 0&&k.type(e,t,i,o,s)}n(o)},Ts="enum",As=function(e,t,n,i,s){var o=[],a=e.required||!e.required&&i.hasOwnProperty(e.field);if(a){if(U(t)&&!e.required)return n();k.required(e,t,i,o,s),t!==void 0&&k[Ts](e,t,i,o,s)}n(o)},Ss=function(e,t,n,i,s){var o=[],a=e.required||!e.required&&i.hasOwnProperty(e.field);if(a){if(U(t,"string")&&!e.required)return n();k.required(e,t,i,o,s),U(t,"string")||k.pattern(e,t,i,o,s)}n(o)},Rs=function(e,t,n,i,s){var o=[],a=e.required||!e.required&&i.hasOwnProperty(e.field);if(a){if(U(t,"date")&&!e.required)return n();if(k.required(e,t,i,o,s),!U(t,"date")){var l;t instanceof Date?l=t:l=new Date(t),k.type(e,l,i,o,s),l&&k.range(e,l.getTime(),i,o,s)}}n(o)},Cs=function(e,t,n,i,s){var o=[],a=Array.isArray(t)?"array":typeof t;k.required(e,t,i,o,s,a),n(o)},Mt=function(e,t,n,i,s){var o=e.type,a=[],l=e.required||!e.required&&i.hasOwnProperty(e.field);if(l){if(U(t,o)&&!e.required)return n();k.required(e,t,i,a,s,o),U(t,o)||k.type(e,t,i,a,s)}n(a)},ks=function(e,t,n,i,s){var o=[],a=e.required||!e.required&&i.hasOwnProperty(e.field);if(a){if(U(t)&&!e.required)return n();k.required(e,t,i,o,s)}n(o)},et={string:ms,method:gs,number:_s,boolean:bs,regexp:vs,integer:ys,float:ws,array:xs,object:Es,enum:As,pattern:Ss,date:Rs,url:Mt,hex:Mt,email:Mt,required:Cs,any:ks};function Gt(){return{default:"Validation error on field %s",required:"%s is required",enum:"%s must be one of %s",whitespace:"%s cannot be empty",date:{format:"%s date %s is invalid for format %s",parse:"%s date could not be parsed, %s is invalid ",invalid:"%s date %s is invalid"},types:{string:"%s is not a %s",method:"%s is not a %s (function)",array:"%s is not an %s",object:"%s is not an %s",number:"%s is not a %s",date:"%s is not a %s",boolean:"%s is not a %s",integer:"%s is not an %s",float:"%s is not a %s",regexp:"%s is not a valid %s",email:"%s is not a valid %s",url:"%s is not a valid %s",hex:"%s is not a valid %s"},string:{len:"%s must be exactly %s characters",min:"%s must be at least %s characters",max:"%s cannot be longer than %s characters",range:"%s must be between %s and %s characters"},number:{len:"%s must equal %s",min:"%s cannot be less than %s",max:"%s cannot be greater than %s",range:"%s must be between %s and %s"},array:{len:"%s must be exactly %s in length",min:"%s cannot be less than %s in length",max:"%s cannot be greater than %s in length",range:"%s must be between %s and %s in length"},pattern:{mismatch:"%s value %s does not match pattern %s"},clone:function(){var e=JSON.parse(JSON.stringify(this));return e.clone=this.clone,e}}}var qt=Gt(),ct=function(){function r(t){this.rules=null,this._messages=qt,this.define(t)}var e=r.prototype;return e.define=function(n){var i=this;if(!n)throw new Error("Cannot configure a schema with no rules");if(typeof n!="object"||Array.isArray(n))throw new Error("Rules must be an object");this.rules={},Object.keys(n).forEach(function(s){var o=n[s];i.rules[s]=Array.isArray(o)?o:[o]})},e.messages=function(n){return n&&(this._messages=En(Gt(),n)),this._messages},e.validate=function(n,i,s){var o=this;i===void 0&&(i={}),s===void 0&&(s=function(){});var a=n,l=i,d=s;if(typeof l=="function"&&(d=l,l={}),!this.rules||Object.keys(this.rules).length===0)return d&&d(null,a),Promise.resolve(a);function u(m){var b=[],_={};function A(x){if(Array.isArray(x)){var E;b=(E=b).concat.apply(E,x)}else b.push(x)}for(var w=0;w<m.length;w++)A(m[w]);b.length?(_=Ut(b),d(b,_)):d(null,a)}if(l.messages){var c=this.messages();c===qt&&(c=Gt()),En(c,l.messages),l.messages=c}else l.messages=this.messages();var f={},h=l.keys||Object.keys(this.rules);h.forEach(function(m){var b=o.rules[m],_=a[m];b.forEach(function(A){var w=A;typeof w.transform=="function"&&(a===n&&(a=Oe({},a)),_=a[m]=w.transform(_)),typeof w=="function"?w={validator:w}:w=Oe({},w),w.validator=o.getValidationMethod(w),w.validator&&(w.field=m,w.fullField=w.fullField||m,w.type=o.getType(w),f[m]=f[m]||[],f[m].push({rule:w,value:_,source:a,field:m}))})});var v={};return os(f,l,function(m,b){var _=m.rule,A=(_.type==="object"||_.type==="array")&&(typeof _.fields=="object"||typeof _.defaultField=="object");A=A&&(_.required||!_.required&&m.value),_.field=m.field;function w(C,O){return Oe({},O,{fullField:_.fullField+"."+C,fullFields:_.fullFields?[].concat(_.fullFields,[C]):[C]})}function x(C){C===void 0&&(C=[]);var O=Array.isArray(C)?C:[C];!l.suppressWarning&&O.length&&r.warning("async-validator:",O),O.length&&_.message!==void 0&&(O=[].concat(_.message));var F=O.map(xn(_,a));if(l.first&&F.length)return v[_.field]=1,b(F);if(!A)b(F);else{if(_.required&&!m.value)return _.message!==void 0?F=[].concat(_.message).map(xn(_,a)):l.error&&(F=[l.error(_,te(l.messages.required,_.field))]),b(F);var j={};_.defaultField&&Object.keys(m.value).map(function($){j[$]=_.defaultField}),j=Oe({},j,m.rule.fields);var ne={};Object.keys(j).forEach(function($){var S=j[$],B=Array.isArray(S)?S:[S];ne[$]=B.map(w.bind(null,$))});var W=new r(ne);W.messages(l.messages),m.rule.options&&(m.rule.options.messages=l.messages,m.rule.options.error=l.error),W.validate(m.value,m.rule.options||l,function($){var S=[];F&&F.length&&S.push.apply(S,F),$&&$.length&&S.push.apply(S,$),b(S.length?S:null)})}}var E;if(_.asyncValidator)E=_.asyncValidator(_,m.value,x,m.source,l);else if(_.validator){try{E=_.validator(_,m.value,x,m.source,l)}catch(C){console.error==null||console.error(C),l.suppressValidatorError||setTimeout(function(){throw C},0),x(C.message)}E===!0?x():E===!1?x(typeof _.message=="function"?_.message(_.fullField||_.field):_.message||(_.fullField||_.field)+" fails"):E instanceof Array?x(E):E instanceof Error&&x(E.message)}E&&E.then&&E.then(function(){return x()},function(C){return x(C)})},function(m){u(m)},a)},e.getType=function(n){if(n.type===void 0&&n.pattern instanceof RegExp&&(n.type="pattern"),typeof n.validator!="function"&&n.type&&!et.hasOwnProperty(n.type))throw new Error(te("Unknown rule type %s",n.type));return n.type||"string"},e.getValidationMethod=function(n){if(typeof n.validator=="function")return n.validator;var i=Object.keys(n),s=i.indexOf("message");return s!==-1&&i.splice(s,1),i.length===1&&i[0]==="required"?et.required:et[this.getType(n)]||void 0},r}();ct.register=function(e,t){if(typeof t!="function")throw new Error("Cannot register a validator by type, validator is not a function");et[e]=t};ct.warning=ns;ct.messages=qt;ct.validators=et;function Os(r){const e=ot(lt,null);return{mergedSize:N(()=>r.size!==void 0?r.size:(e==null?void 0:e.props.size)!==void 0?e.props.size:"medium")}}function Ls(r){const e=ot(lt,null),t=N(()=>{const{labelPlacement:h}=r;return h!==void 0?h:e!=null&&e.props.labelPlacement?e.props.labelPlacement:"top"}),n=N(()=>t.value==="left"&&(r.labelWidth==="auto"||(e==null?void 0:e.props.labelWidth)==="auto")),i=N(()=>{if(t.value==="top")return;const{labelWidth:h}=r;if(h!==void 0&&h!=="auto")return ve(h);if(n.value){const v=e==null?void 0:e.maxChildLabelWidthRef.value;return v!==void 0?ve(v):void 0}if((e==null?void 0:e.props.labelWidth)!==void 0)return ve(e.props.labelWidth)}),s=N(()=>{const{labelAlign:h}=r;if(h)return h;if(e!=null&&e.props.labelAlign)return e.props.labelAlign}),o=N(()=>{var h;return[(h=r.labelProps)===null||h===void 0?void 0:h.style,r.labelStyle,{width:i.value}]}),a=N(()=>{const{showRequireMark:h}=r;return h!==void 0?h:e==null?void 0:e.props.showRequireMark}),l=N(()=>{const{requireMarkPlacement:h}=r;return h!==void 0?h:(e==null?void 0:e.props.requireMarkPlacement)||"right"}),d=le(!1),u=N(()=>{const{validationStatus:h}=r;if(h!==void 0)return h;if(d.value)return"error"}),c=N(()=>{const{showFeedback:h}=r;return h!==void 0?h:(e==null?void 0:e.props.showFeedback)!==void 0?e.props.showFeedback:!0}),f=N(()=>{const{showLabel:h}=r;return h!==void 0?h:(e==null?void 0:e.props.showLabel)!==void 0?e.props.showLabel:!0});return{validationErrored:d,mergedLabelStyle:o,mergedLabelPlacement:t,mergedLabelAlign:s,mergedShowRequireMark:a,mergedRequireMarkPlacement:l,mergedValidationStatus:u,mergedShowFeedback:c,mergedShowLabel:f,isAutoLabelWidth:n}}function Ps(r){const e=ot(lt,null),t=N(()=>{const{rulePath:o}=r;if(o!==void 0)return o;const{path:a}=r;if(a!==void 0)return a}),n=N(()=>{const o=[],{rule:a}=r;if(a!==void 0&&(Array.isArray(a)?o.push(...a):o.push(a)),e){const{rules:l}=e.props,{value:d}=t;if(l!==void 0&&d!==void 0){const u=pi(l,d);u!==void 0&&(Array.isArray(u)?o.push(...u):o.push(u))}}return o}),i=N(()=>n.value.some(o=>o.required)),s=N(()=>i.value||r.required);return{mergedRules:n,mergedRequired:s}}const{cubicBezierEaseInOut:An}=Vi;function Ms({name:r="fade-down",fromOffset:e="-4px",enterDuration:t=".3s",leaveDuration:n=".3s",enterCubicBezier:i=An,leaveCubicBezier:s=An}={}){return[me(`&.${r}-transition-enter-from, &.${r}-transition-leave-to`,{opacity:0,transform:`translateY(${e})`}),me(`&.${r}-transition-enter-to, &.${r}-transition-leave-from`,{opacity:1,transform:"translateY(0)"}),me(`&.${r}-transition-leave-active`,{transition:`opacity ${n} ${s}, transform ${n} ${s}`}),me(`&.${r}-transition-enter-active`,{transition:`opacity ${t} ${i}, transform ${t} ${i}`})]}const Ns=L("form-item",`
 display: grid;
 line-height: var(--n-line-height);
`,[L("form-item-label",`
 grid-area: label;
 align-items: center;
 line-height: 1.25;
 text-align: var(--n-label-text-align);
 font-size: var(--n-label-font-size);
 min-height: var(--n-label-height);
 padding: var(--n-label-padding);
 color: var(--n-label-text-color);
 transition: color .3s var(--n-bezier);
 box-sizing: border-box;
 font-weight: var(--n-label-font-weight);
 `,[mt("asterisk",`
 white-space: nowrap;
 user-select: none;
 -webkit-user-select: none;
 color: var(--n-asterisk-color);
 transition: color .3s var(--n-bezier);
 `),mt("asterisk-placeholder",`
 grid-area: mark;
 user-select: none;
 -webkit-user-select: none;
 visibility: hidden; 
 `)]),L("form-item-blank",`
 grid-area: blank;
 min-height: var(--n-blank-height);
 `),V("auto-label-width",[L("form-item-label","white-space: nowrap;")]),V("left-labelled",`
 grid-template-areas:
 "label blank"
 "label feedback";
 grid-template-columns: auto minmax(0, 1fr);
 grid-template-rows: auto 1fr;
 align-items: start;
 `,[L("form-item-label",`
 display: grid;
 grid-template-columns: 1fr auto;
 min-height: var(--n-blank-height);
 height: auto;
 box-sizing: border-box;
 flex-shrink: 0;
 flex-grow: 0;
 `,[V("reverse-columns-space",`
 grid-template-columns: auto 1fr;
 `),V("left-mark",`
 grid-template-areas:
 "mark text"
 ". text";
 `),V("right-mark",`
 grid-template-areas: 
 "text mark"
 "text .";
 `),V("right-hanging-mark",`
 grid-template-areas: 
 "text mark"
 "text .";
 `),mt("text",`
 grid-area: text; 
 `),mt("asterisk",`
 grid-area: mark; 
 align-self: end;
 `)])]),V("top-labelled",`
 grid-template-areas:
 "label"
 "blank"
 "feedback";
 grid-template-rows: minmax(var(--n-label-height), auto) 1fr;
 grid-template-columns: minmax(0, 100%);
 `,[V("no-label",`
 grid-template-areas:
 "blank"
 "feedback";
 grid-template-rows: 1fr;
 `),L("form-item-label",`
 display: flex;
 align-items: flex-start;
 justify-content: var(--n-label-text-align);
 `)]),L("form-item-blank",`
 box-sizing: border-box;
 display: flex;
 align-items: center;
 position: relative;
 `),L("form-item-feedback-wrapper",`
 grid-area: feedback;
 box-sizing: border-box;
 min-height: var(--n-feedback-height);
 font-size: var(--n-feedback-font-size);
 line-height: 1.25;
 transform-origin: top left;
 `,[me("&:not(:empty)",`
 padding: var(--n-feedback-padding);
 `),L("form-item-feedback",{transition:"color .3s var(--n-bezier)",color:"var(--n-feedback-text-color)"},[V("warning",{color:"var(--n-feedback-text-color-warning)"}),V("error",{color:"var(--n-feedback-text-color-error)"}),Ms({fromOffset:"-3px",enterDuration:".3s",leaveDuration:".2s"})])])]);var Sn=globalThis&&globalThis.__awaiter||function(r,e,t,n){function i(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(u){try{d(n.next(u))}catch(c){o(c)}}function l(u){try{d(n.throw(u))}catch(c){o(c)}}function d(u){u.done?s(u.value):i(u.value).then(a,l)}d((n=n.apply(r,e||[])).next())})};const Is=Object.assign(Object.assign({},Ge.props),{label:String,labelWidth:[Number,String],labelStyle:[String,Object],labelAlign:String,labelPlacement:String,path:String,first:Boolean,rulePath:String,required:Boolean,showRequireMark:{type:Boolean,default:void 0},requireMarkPlacement:String,showFeedback:{type:Boolean,default:void 0},rule:[Object,Array],size:String,ignorePathChange:Boolean,validationStatus:String,feedback:String,showLabel:{type:Boolean,default:void 0},labelProps:Object});function Rn(r,e){return(...t)=>{try{const n=r(...t);return!e&&(typeof n=="boolean"||n instanceof Error||Array.isArray(n))||n!=null&&n.then?n:(n===void 0||gn("form-item/validate",`You return a ${typeof n} typed value in the validator method, which is not recommended. Please use `+(e?"`Promise`":"`boolean`, `Error` or `Promise`")+" typed value instead."),!0)}catch(n){gn("form-item/validate","An error is catched in the validation, so the validation won't be done. Your callback in `validate` method of `n-form` or `n-form-item` won't be called in this validation."),console.error(n);return}}}const Fs=ce({name:"FormItem",props:Is,setup(r){Kr(mi,"formItems",pt(r,"path"));const{mergedClsPrefixRef:e,inlineThemeDisabled:t}=tn(r),n=ot(lt,null),i=Os(r),s=Ls(r),{validationErrored:o}=s,{mergedRequired:a,mergedRules:l}=Ps(r),{mergedSize:d}=i,{mergedLabelPlacement:u,mergedLabelAlign:c,mergedRequireMarkPlacement:f}=s,h=le([]),v=le(mn()),m=n?pt(n.props,"disabled"):le(!1),b=Ge("Form","-form-item",Ns,Zn,r,e);Wn(pt(r,"path"),()=>{r.ignorePathChange||_()});function _(){h.value=[],o.value=!1,r.feedback&&(v.value=mn())}function A(){O("blur")}function w(){O("change")}function x(){O("focus")}function E(){O("input")}function C(S,B){return Sn(this,void 0,void 0,function*(){let D,z,se,oe;return typeof S=="string"?(D=S,z=B):S!==null&&typeof S=="object"&&(D=S.trigger,z=S.callback,se=S.shouldRuleBeApplied,oe=S.options),yield new Promise((ye,we)=>{O(D,se,oe).then(({valid:xe,errors:ge})=>{xe?(z&&z(),ye()):(z&&z(ge),we(ge))})})})}const O=(S=null,B=()=>!0,D={suppressWarning:!0})=>Sn(this,void 0,void 0,function*(){const{path:z}=r;D?D.first||(D.first=r.first):D={};const{value:se}=l,oe=n?pi(n.props.model,z||""):void 0,ye={},we={},xe=(S?se.filter(J=>Array.isArray(J.trigger)?J.trigger.includes(S):J.trigger===S):se).filter(B).map((J,ee)=>{const H=Object.assign({},J);if(H.validator&&(H.validator=Rn(H.validator,!1)),H.asyncValidator&&(H.asyncValidator=Rn(H.asyncValidator,!0)),H.renderMessage){const Y=`__renderMessage__${ee}`;we[Y]=H.message,H.message=Y,ye[Y]=H.renderMessage}return H});if(!xe.length)return{valid:!0};const ge=z??"__n_no_path__",Ne=new ct({[ge]:xe}),{validateMessages:Ce}=(n==null?void 0:n.props)||{};return Ce&&Ne.messages(Ce),yield new Promise(J=>{Ne.validate({[ge]:oe},D,ee=>{ee!=null&&ee.length?(h.value=ee.map(H=>{const Y=(H==null?void 0:H.message)||"";return{key:Y,render:()=>Y.startsWith("__renderMessage__")?ye[Y]():Y}}),ee.forEach(H=>{var Y;!((Y=H.message)===null||Y===void 0)&&Y.startsWith("__renderMessage__")&&(H.message=we[H.message])}),o.value=!0,J({valid:!1,errors:ee})):(_(),J({valid:!0}))})})});Ht(Ui,{path:pt(r,"path"),disabled:m,mergedSize:i.mergedSize,mergedValidationStatus:s.mergedValidationStatus,restoreValidation:_,handleContentBlur:A,handleContentChange:w,handleContentFocus:x,handleContentInput:E});const F={validate:C,restoreValidation:_,internalValidate:O},j=le(null);Xn(()=>{if(!s.isAutoLabelWidth.value)return;const S=j.value;if(S!==null){const B=S.style.whiteSpace;S.style.whiteSpace="nowrap",S.style.width="",n==null||n.deriveMaxChildLabelWidth(Number(getComputedStyle(S).width.slice(0,-2))),S.style.whiteSpace=B}});const ne=N(()=>{var S;const{value:B}=d,{value:D}=u,z=D==="top"?"vertical":"horizontal",{common:{cubicBezierEaseInOut:se},self:{labelTextColor:oe,asteriskColor:ye,lineHeight:we,feedbackTextColor:xe,feedbackTextColorWarning:ge,feedbackTextColorError:Ne,feedbackPadding:Ce,labelFontWeight:J,[pe("labelHeight",B)]:ee,[pe("blankHeight",B)]:H,[pe("feedbackFontSize",B)]:Y,[pe("feedbackHeight",B)]:dt,[pe("labelPadding",z)]:ut,[pe("labelTextAlign",z)]:ft,[pe(pe("labelFontSize",D),B)]:At}}=b.value;let qe=(S=c.value)!==null&&S!==void 0?S:ft;return D==="top"&&(qe=qe==="right"?"flex-end":"flex-start"),{"--n-bezier":se,"--n-line-height":we,"--n-blank-height":H,"--n-label-font-size":At,"--n-label-text-align":qe,"--n-label-height":ee,"--n-label-padding":ut,"--n-label-font-weight":J,"--n-asterisk-color":ye,"--n-label-text-color":oe,"--n-feedback-padding":Ce,"--n-feedback-font-size":Y,"--n-feedback-height":dt,"--n-feedback-text-color":xe,"--n-feedback-text-color-warning":ge,"--n-feedback-text-color-error":Ne}}),W=t?Qn("form-item",N(()=>{var S;return`${d.value[0]}${u.value[0]}${((S=c.value)===null||S===void 0?void 0:S[0])||""}`}),ne,r):void 0,$=N(()=>u.value==="left"&&f.value==="left"&&c.value==="left");return Object.assign(Object.assign(Object.assign(Object.assign({labelElementRef:j,mergedClsPrefix:e,mergedRequired:a,feedbackId:v,renderExplains:h,reverseColSpace:$},s),i),F),{cssVars:t?void 0:ne,themeClass:W==null?void 0:W.themeClass,onRender:W==null?void 0:W.onRender})},render(){const{$slots:r,mergedClsPrefix:e,mergedShowLabel:t,mergedShowRequireMark:n,mergedRequireMarkPlacement:i,onRender:s}=this,o=n!==void 0?n:this.mergedRequired;s==null||s();const a=()=>{const l=this.$slots.label?this.$slots.label():this.label;if(!l)return null;const d=T("span",{class:`${e}-form-item-label__text`},l),u=o?T("span",{class:`${e}-form-item-label__asterisk`},i!=="left"?" *":"* "):i==="right-hanging"&&T("span",{class:`${e}-form-item-label__asterisk-placeholder`}," *"),{labelProps:c}=this;return T("label",Object.assign({},c,{class:[c==null?void 0:c.class,`${e}-form-item-label`,`${e}-form-item-label--${i}-mark`,this.reverseColSpace&&`${e}-form-item-label--reverse-columns-space`],style:this.mergedLabelStyle,ref:"labelElementRef"}),i==="left"?[u,d]:[d,u])};return T("div",{class:[`${e}-form-item`,this.themeClass,`${e}-form-item--${this.mergedSize}-size`,`${e}-form-item--${this.mergedLabelPlacement}-labelled`,this.isAutoLabelWidth&&`${e}-form-item--auto-label-width`,!t&&`${e}-form-item--no-label`],style:this.cssVars},t&&a(),T("div",{class:[`${e}-form-item-blank`,this.mergedValidationStatus&&`${e}-form-item-blank--${this.mergedValidationStatus}`]},r),this.mergedShowFeedback?T("div",{key:this.feedbackId,class:`${e}-form-item-feedback-wrapper`},T(Ii,{name:"fade-down-transition",mode:"out-in"},{default:()=>{const{mergedValidationStatus:l}=this;return Gi(r.feedback,d=>{var u;const{feedback:c}=this,f=d||c?T("div",{key:"__feedback__",class:`${e}-form-item-feedback__line`},d||c):this.renderExplains.length?(u=this.renderExplains)===null||u===void 0?void 0:u.map(({key:h,render:v})=>T("div",{key:h,class:`${e}-form-item-feedback__line`},v())):null;return f?l==="warning"?T("div",{key:"controlled-warning",class:`${e}-form-item-feedback ${e}-form-item-feedback--warning`},f):l==="error"?T("div",{key:"controlled-error",class:`${e}-form-item-feedback ${e}-form-item-feedback--error`},f):l==="success"?T("div",{key:"controlled-success",class:`${e}-form-item-feedback ${e}-form-item-feedback--success`},f):T("div",{key:"controlled-default",class:`${e}-form-item-feedback`},f):null})}})):null)}}),Ds=me([L("progress",{display:"inline-block"},[L("progress-icon",`
 color: var(--n-icon-color);
 transition: color .3s var(--n-bezier);
 `),V("line",`
 width: 100%;
 display: block;
 `,[L("progress-content",`
 display: flex;
 align-items: center;
 `,[L("progress-graph",{flex:1})]),L("progress-custom-content",{marginLeft:"14px"}),L("progress-icon",`
 width: 30px;
 padding-left: 14px;
 height: var(--n-icon-size-line);
 line-height: var(--n-icon-size-line);
 font-size: var(--n-icon-size-line);
 `,[V("as-text",`
 color: var(--n-text-color-line-outer);
 text-align: center;
 width: 40px;
 font-size: var(--n-font-size);
 padding-left: 4px;
 transition: color .3s var(--n-bezier);
 `)])]),V("circle, dashboard",{width:"120px"},[L("progress-custom-content",`
 position: absolute;
 left: 50%;
 top: 50%;
 transform: translateX(-50%) translateY(-50%);
 display: flex;
 align-items: center;
 justify-content: center;
 `),L("progress-text",`
 position: absolute;
 left: 50%;
 top: 50%;
 transform: translateX(-50%) translateY(-50%);
 display: flex;
 align-items: center;
 color: inherit;
 font-size: var(--n-font-size-circle);
 color: var(--n-text-color-circle);
 font-weight: var(--n-font-weight-circle);
 transition: color .3s var(--n-bezier);
 white-space: nowrap;
 `),L("progress-icon",`
 position: absolute;
 left: 50%;
 top: 50%;
 transform: translateX(-50%) translateY(-50%);
 display: flex;
 align-items: center;
 color: var(--n-icon-color);
 font-size: var(--n-icon-size-circle);
 `)]),V("multiple-circle",`
 width: 200px;
 color: inherit;
 `,[L("progress-text",`
 font-weight: var(--n-font-weight-circle);
 color: var(--n-text-color-circle);
 position: absolute;
 left: 50%;
 top: 50%;
 transform: translateX(-50%) translateY(-50%);
 display: flex;
 align-items: center;
 justify-content: center;
 transition: color .3s var(--n-bezier);
 `)]),L("progress-content",{position:"relative"}),L("progress-graph",{position:"relative"},[L("progress-graph-circle",[me("svg",{verticalAlign:"bottom"}),L("progress-graph-circle-fill",`
 stroke: var(--n-fill-color);
 transition:
 opacity .3s var(--n-bezier),
 stroke .3s var(--n-bezier),
 stroke-dasharray .3s var(--n-bezier);
 `,[V("empty",{opacity:0})]),L("progress-graph-circle-rail",`
 transition: stroke .3s var(--n-bezier);
 overflow: hidden;
 stroke: var(--n-rail-color);
 `)]),L("progress-graph-line",[V("indicator-inside",[L("progress-graph-line-rail",`
 height: 16px;
 line-height: 16px;
 border-radius: 10px;
 `,[L("progress-graph-line-fill",`
 height: inherit;
 border-radius: 10px;
 `),L("progress-graph-line-indicator",`
 background: #0000;
 white-space: nowrap;
 text-align: right;
 margin-left: 14px;
 margin-right: 14px;
 height: inherit;
 font-size: 12px;
 color: var(--n-text-color-line-inner);
 transition: color .3s var(--n-bezier);
 `)])]),V("indicator-inside-label",`
 height: 16px;
 display: flex;
 align-items: center;
 `,[L("progress-graph-line-rail",`
 flex: 1;
 transition: background-color .3s var(--n-bezier);
 `),L("progress-graph-line-indicator",`
 background: var(--n-fill-color);
 font-size: 12px;
 transform: translateZ(0);
 display: flex;
 vertical-align: middle;
 height: 16px;
 line-height: 16px;
 padding: 0 10px;
 border-radius: 10px;
 position: absolute;
 white-space: nowrap;
 color: var(--n-text-color-line-inner);
 transition:
 right .2s var(--n-bezier),
 color .3s var(--n-bezier),
 background-color .3s var(--n-bezier);
 `)]),L("progress-graph-line-rail",`
 position: relative;
 overflow: hidden;
 height: var(--n-rail-height);
 border-radius: 5px;
 background-color: var(--n-rail-color);
 transition: background-color .3s var(--n-bezier);
 `,[L("progress-graph-line-fill",`
 background: var(--n-fill-color);
 position: relative;
 border-radius: 5px;
 height: inherit;
 width: 100%;
 max-width: 0%;
 transition:
 background-color .3s var(--n-bezier),
 max-width .2s var(--n-bezier);
 `,[V("processing",[me("&::after",`
 content: "";
 background-image: var(--n-line-bg-processing);
 animation: progress-processing-animation 2s var(--n-bezier) infinite;
 `)])])])])])]),me("@keyframes progress-processing-animation",`
 0% {
 position: absolute;
 left: 0;
 top: 0;
 bottom: 0;
 right: 100%;
 opacity: 1;
 }
 66% {
 position: absolute;
 left: 0;
 top: 0;
 bottom: 0;
 right: 0;
 opacity: 0;
 }
 100% {
 position: absolute;
 left: 0;
 top: 0;
 bottom: 0;
 right: 0;
 opacity: 0;
 }
 `)]),Hs={success:T(ei,null),error:T(ti,null),warning:T(ni,null),info:T(ii,null)},Bs=ce({name:"ProgressLine",props:{clsPrefix:{type:String,required:!0},percentage:{type:Number,default:0},railColor:String,railStyle:[String,Object],fillColor:String,status:{type:String,required:!0},indicatorPlacement:{type:String,required:!0},indicatorTextColor:String,unit:{type:String,default:"%"},processing:{type:Boolean,required:!0},showIndicator:{type:Boolean,required:!0},height:[String,Number],railBorderRadius:[String,Number],fillBorderRadius:[String,Number]},setup(r,{slots:e}){const t=N(()=>ve(r.height)),n=N(()=>r.railBorderRadius!==void 0?ve(r.railBorderRadius):r.height!==void 0?ve(r.height,{c:.5}):""),i=N(()=>r.fillBorderRadius!==void 0?ve(r.fillBorderRadius):r.railBorderRadius!==void 0?ve(r.railBorderRadius):r.height!==void 0?ve(r.height,{c:.5}):"");return()=>{const{indicatorPlacement:s,railColor:o,railStyle:a,percentage:l,unit:d,indicatorTextColor:u,status:c,showIndicator:f,fillColor:h,processing:v,clsPrefix:m}=r;return T("div",{class:`${m}-progress-content`,role:"none"},T("div",{class:`${m}-progress-graph`,"aria-hidden":!0},T("div",{class:[`${m}-progress-graph-line`,{[`${m}-progress-graph-line--indicator-${s}`]:!0}]},T("div",{class:`${m}-progress-graph-line-rail`,style:[{backgroundColor:o,height:t.value,borderRadius:n.value},a]},T("div",{class:[`${m}-progress-graph-line-fill`,v&&`${m}-progress-graph-line-fill--processing`],style:{maxWidth:`${r.percentage}%`,backgroundColor:h,height:t.value,lineHeight:t.value,borderRadius:i.value}},s==="inside"?T("div",{class:`${m}-progress-graph-line-indicator`,style:{color:u}},l,d):null)))),f&&s==="outside"?T("div",null,e.default?T("div",{class:`${m}-progress-custom-content`,style:{color:u},role:"none"},e.default()):c==="default"?T("div",{role:"none",class:`${m}-progress-icon ${m}-progress-icon--as-text`,style:{color:u}},l,d):T("div",{class:`${m}-progress-icon`,"aria-hidden":!0},T(Jn,{clsPrefix:m},{default:()=>Hs[c]}))):null)}}}),js={success:T(ei,null),error:T(ti,null),warning:T(ni,null),info:T(ii,null)},$s=ce({name:"ProgressCircle",props:{clsPrefix:{type:String,required:!0},status:{type:String,required:!0},strokeWidth:{type:Number,required:!0},fillColor:String,railColor:String,railStyle:[String,Object],percentage:{type:Number,default:0},offsetDegree:{type:Number,default:0},showIndicator:{type:Boolean,required:!0},indicatorTextColor:String,unit:String,viewBoxWidth:{type:Number,required:!0},gapDegree:{type:Number,required:!0},gapOffsetDegree:{type:Number,default:0}},setup(r,{slots:e}){function t(n,i,s){const{gapDegree:o,viewBoxWidth:a,strokeWidth:l}=r,d=50,u=0,c=d,f=0,h=2*d,v=50+l/2,m=`M ${v},${v} m ${u},${c}
      a ${d},${d} 0 1 1 ${f},${-h}
      a ${d},${d} 0 1 1 ${-f},${h}`,b=Math.PI*2*d,_={stroke:s,strokeDasharray:`${n/100*(b-o)}px ${a*8}px`,strokeDashoffset:`-${o/2}px`,transformOrigin:i?"center":void 0,transform:i?`rotate(${i}deg)`:void 0};return{pathString:m,pathStyle:_}}return()=>{const{fillColor:n,railColor:i,strokeWidth:s,offsetDegree:o,status:a,percentage:l,showIndicator:d,indicatorTextColor:u,unit:c,gapOffsetDegree:f,clsPrefix:h}=r,{pathString:v,pathStyle:m}=t(100,0,i),{pathString:b,pathStyle:_}=t(l,o,n),A=100+s;return T("div",{class:`${h}-progress-content`,role:"none"},T("div",{class:`${h}-progress-graph`,"aria-hidden":!0},T("div",{class:`${h}-progress-graph-circle`,style:{transform:f?`rotate(${f}deg)`:void 0}},T("svg",{viewBox:`0 0 ${A} ${A}`},T("g",null,T("path",{class:`${h}-progress-graph-circle-rail`,d:v,"stroke-width":s,"stroke-linecap":"round",fill:"none",style:m})),T("g",null,T("path",{class:[`${h}-progress-graph-circle-fill`,l===0&&`${h}-progress-graph-circle-fill--empty`],d:b,"stroke-width":s,"stroke-linecap":"round",fill:"none",style:_}))))),d?T("div",null,e.default?T("div",{class:`${h}-progress-custom-content`,role:"none"},e.default()):a!=="default"?T("div",{class:`${h}-progress-icon`,"aria-hidden":!0},T(Jn,{clsPrefix:h},{default:()=>js[a]})):T("div",{class:`${h}-progress-text`,style:{color:u},role:"none"},T("span",{class:`${h}-progress-text__percentage`},l),T("span",{class:`${h}-progress-text__unit`},c))):null)}}});function Cn(r,e,t=100){return`m ${t/2} ${t/2-r} a ${r} ${r} 0 1 1 0 ${2*r} a ${r} ${r} 0 1 1 0 -${2*r}`}const zs=ce({name:"ProgressMultipleCircle",props:{clsPrefix:{type:String,required:!0},viewBoxWidth:{type:Number,required:!0},percentage:{type:Array,default:[0]},strokeWidth:{type:Number,required:!0},circleGap:{type:Number,required:!0},showIndicator:{type:Boolean,required:!0},fillColor:{type:Array,default:()=>[]},railColor:{type:Array,default:()=>[]},railStyle:{type:Array,default:()=>[]}},setup(r,{slots:e}){const t=N(()=>r.percentage.map((i,s)=>`${Math.PI*i/100*(r.viewBoxWidth/2-r.strokeWidth/2*(1+2*s)-r.circleGap*s)*2}, ${r.viewBoxWidth*8}`));return()=>{const{viewBoxWidth:n,strokeWidth:i,circleGap:s,showIndicator:o,fillColor:a,railColor:l,railStyle:d,percentage:u,clsPrefix:c}=r;return T("div",{class:`${c}-progress-content`,role:"none"},T("div",{class:`${c}-progress-graph`,"aria-hidden":!0},T("div",{class:`${c}-progress-graph-circle`},T("svg",{viewBox:`0 0 ${n} ${n}`},u.map((f,h)=>T("g",{key:h},T("path",{class:`${c}-progress-graph-circle-rail`,d:Cn(n/2-i/2*(1+2*h)-s*h,i,n),"stroke-width":i,"stroke-linecap":"round",fill:"none",style:[{strokeDashoffset:0,stroke:l[h]},d[h]]}),T("path",{class:[`${c}-progress-graph-circle-fill`,f===0&&`${c}-progress-graph-circle-fill--empty`],d:Cn(n/2-i/2*(1+2*h)-s*h,i,n),"stroke-width":i,"stroke-linecap":"round",fill:"none",style:{strokeDasharray:t.value[h],strokeDashoffset:0,stroke:a[h]}})))))),o&&e.default?T("div",null,T("div",{class:`${c}-progress-text`},e.default())):null)}}}),Vs=Object.assign(Object.assign({},Ge.props),{processing:Boolean,type:{type:String,default:"line"},gapDegree:Number,gapOffsetDegree:Number,status:{type:String,default:"default"},railColor:[String,Array],railStyle:[String,Array],color:[String,Array],viewBoxWidth:{type:Number,default:100},strokeWidth:{type:Number,default:7},percentage:[Number,Array],unit:{type:String,default:"%"},showIndicator:{type:Boolean,default:!0},indicatorPosition:{type:String,default:"outside"},indicatorPlacement:{type:String,default:"outside"},indicatorTextColor:String,circleGap:{type:Number,default:1},height:Number,borderRadius:[String,Number],fillBorderRadius:[String,Number],offsetDegree:Number}),Us=ce({name:"Progress",props:Vs,setup(r){const e=N(()=>r.indicatorPlacement||r.indicatorPosition),t=N(()=>{if(r.gapDegree||r.gapDegree===0)return r.gapDegree;if(r.type==="dashboard")return 75}),{mergedClsPrefixRef:n,inlineThemeDisabled:i}=tn(r),s=Ge("Progress","-progress",Ds,qi,r,n),o=N(()=>{const{status:l}=r,{common:{cubicBezierEaseInOut:d},self:{fontSize:u,fontSizeCircle:c,railColor:f,railHeight:h,iconSizeCircle:v,iconSizeLine:m,textColorCircle:b,textColorLineInner:_,textColorLineOuter:A,lineBgProcessing:w,fontWeightCircle:x,[pe("iconColor",l)]:E,[pe("fillColor",l)]:C}}=s.value;return{"--n-bezier":d,"--n-fill-color":C,"--n-font-size":u,"--n-font-size-circle":c,"--n-font-weight-circle":x,"--n-icon-color":E,"--n-icon-size-circle":v,"--n-icon-size-line":m,"--n-line-bg-processing":w,"--n-rail-color":f,"--n-rail-height":h,"--n-text-color-circle":b,"--n-text-color-line-inner":_,"--n-text-color-line-outer":A}}),a=i?Qn("progress",N(()=>r.status[0]),o,r):void 0;return{mergedClsPrefix:n,mergedIndicatorPlacement:e,gapDeg:t,cssVars:i?void 0:o,themeClass:a==null?void 0:a.themeClass,onRender:a==null?void 0:a.onRender}},render(){const{type:r,cssVars:e,indicatorTextColor:t,showIndicator:n,status:i,railColor:s,railStyle:o,color:a,percentage:l,viewBoxWidth:d,strokeWidth:u,mergedIndicatorPlacement:c,unit:f,borderRadius:h,fillBorderRadius:v,height:m,processing:b,circleGap:_,mergedClsPrefix:A,gapDeg:w,gapOffsetDegree:x,themeClass:E,$slots:C,onRender:O}=this;return O==null||O(),T("div",{class:[E,`${A}-progress`,`${A}-progress--${r}`,`${A}-progress--${i}`],style:e,"aria-valuemax":100,"aria-valuemin":0,"aria-valuenow":l,role:r==="circle"||r==="line"||r==="dashboard"?"progressbar":"none"},r==="circle"||r==="dashboard"?T($s,{clsPrefix:A,status:i,showIndicator:n,indicatorTextColor:t,railColor:s,fillColor:a,railStyle:o,offsetDegree:this.offsetDegree,percentage:l,viewBoxWidth:d,strokeWidth:u,gapDegree:w===void 0?r==="dashboard"?75:0:w,gapOffsetDegree:x,unit:f},C):r==="line"?T(Bs,{clsPrefix:A,status:i,showIndicator:n,indicatorTextColor:t,railColor:s,fillColor:a,railStyle:o,percentage:l,processing:b,indicatorPlacement:c,unit:f,fillBorderRadius:v,railBorderRadius:h,height:m},C):r==="multiple-circle"?T(zs,{clsPrefix:A,strokeWidth:u,railColor:s,fillColor:a,railStyle:o,viewBoxWidth:d,percentage:l,showIndicator:n,circleGap:_},C):null)}}),Gs={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 512 512"},qs=M("path",{d:"M336 208v-95a80 80 0 0 0-160 0v95",fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"32"},null,-1),Ks=M("rect",{x:"96",y:"208",width:"320",height:"272",rx:"48",ry:"48",fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"32"},null,-1),Ws=[qs,Ks],Xs=ce({name:"LockClosedOutline",render:function(e,t){return Ve(),at("svg",Gs,Ws)}}),Ys={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 512 512"},Zs=M("path",{d:"M480 257.35c0-123.7-100.3-224-224-224s-224 100.3-224 224c0 111.8 81.9 204.47 189 221.29V322.12h-56.89v-64.77H221V208c0-56.13 33.45-87.16 84.61-87.16c24.51 0 50.15 4.38 50.15 4.38v55.13H327.5c-27.81 0-36.51 17.26-36.51 35v42h62.12l-9.92 64.77H291v156.54c107.1-16.81 189-109.48 189-221.31z","fill-rule":"evenodd",fill:"currentColor"},null,-1),Qs=[Zs],Js=ce({name:"LogoFacebook",render:function(e,t){return Ve(),at("svg",Ys,Qs)}}),eo={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 512 512"},to=M("path",{d:"M256 32C132.3 32 32 134.9 32 261.7c0 101.5 64.2 187.5 153.2 217.9a17.56 17.56 0 0 0 3.8.4c8.3 0 11.5-6.1 11.5-11.4c0-5.5-.2-19.9-.3-39.1a102.4 102.4 0 0 1-22.6 2.7c-43.1 0-52.9-33.5-52.9-33.5c-10.2-26.5-24.9-33.6-24.9-33.6c-19.5-13.7-.1-14.1 1.4-14.1h.1c22.5 2 34.3 23.8 34.3 23.8c11.2 19.6 26.2 25.1 39.6 25.1a63 63 0 0 0 25.6-6c2-14.8 7.8-24.9 14.2-30.7c-49.7-5.8-102-25.5-102-113.5c0-25.1 8.7-45.6 23-61.6c-2.3-5.8-10-29.2 2.2-60.8a18.64 18.64 0 0 1 5-.5c8.1 0 26.4 3.1 56.6 24.1a208.21 208.21 0 0 1 112.2 0c30.2-21 48.5-24.1 56.6-24.1a18.64 18.64 0 0 1 5 .5c12.2 31.6 4.5 55 2.2 60.8c14.3 16.1 23 36.6 23 61.6c0 88.2-52.4 107.6-102.3 113.3c8 7.1 15.2 21.1 15.2 42.5c0 30.7-.3 55.5-.3 63c0 5.4 3.1 11.5 11.4 11.5a19.35 19.35 0 0 0 4-.4C415.9 449.2 480 363.1 480 261.7C480 134.9 379.7 32 256 32z",fill:"currentColor"},null,-1),no=[to],io=ce({name:"LogoGithub",render:function(e,t){return Ve(),at("svg",eo,no)}}),ro={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 512 512"},so=M("path",{d:"M344 144c-3.92 52.87-44 96-88 96s-84.15-43.12-88-96c-4-55 35-96 88-96s92 42 88 96z",fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"32"},null,-1),oo=M("path",{d:"M256 304c-87 0-175.3 48-191.64 138.6C62.39 453.52 68.57 464 80 464h352c11.44 0 17.62-10.48 15.65-21.4C431.3 352 343 304 256 304z",fill:"none",stroke:"currentColor","stroke-miterlimit":"10","stroke-width":"32"},null,-1),ao=[so,oo],lo=ce({name:"PersonOutline",render:function(e,t){return Ve(),at("svg",ro,ao)}}),co="/naive-ui-template/assets/account-logo-0a6f895e.png";function uo(r){if(r&&!(typeof window>"u")){var e=document.createElement("style");return e.setAttribute("type","text/css"),e.innerHTML=r,document.head.appendChild(e),r}}function $e(r,e){var t=r.__state.conversionName.toString(),n=Math.round(r.r),i=Math.round(r.g),s=Math.round(r.b),o=r.a,a=Math.round(r.h),l=r.s.toFixed(1),d=r.v.toFixed(1);if(e||t==="THREE_CHAR_HEX"||t==="SIX_CHAR_HEX"){for(var u=r.hex.toString(16);u.length<6;)u="0"+u;return"#"+u}else{if(t==="CSS_RGB")return"rgb("+n+","+i+","+s+")";if(t==="CSS_RGBA")return"rgba("+n+","+i+","+s+","+o+")";if(t==="HEX")return"0x"+r.hex.toString(16);if(t==="RGB_ARRAY")return"["+n+","+i+","+s+"]";if(t==="RGBA_ARRAY")return"["+n+","+i+","+s+","+o+"]";if(t==="RGB_OBJ")return"{r:"+n+",g:"+i+",b:"+s+"}";if(t==="RGBA_OBJ")return"{r:"+n+",g:"+i+",b:"+s+",a:"+o+"}";if(t==="HSV_OBJ")return"{h:"+a+",s:"+l+",v:"+d+"}";if(t==="HSVA_OBJ")return"{h:"+a+",s:"+l+",v:"+d+",a:"+o+"}"}return"unknown format"}var kn=Array.prototype.forEach,Ke=Array.prototype.slice,y={BREAK:{},extend:function(e){return this.each(Ke.call(arguments,1),function(t){var n=this.isObject(t)?Object.keys(t):[];n.forEach(function(i){this.isUndefined(t[i])||(e[i]=t[i])}.bind(this))},this),e},defaults:function(e){return this.each(Ke.call(arguments,1),function(t){var n=this.isObject(t)?Object.keys(t):[];n.forEach(function(i){this.isUndefined(e[i])&&(e[i]=t[i])}.bind(this))},this),e},compose:function(){var e=Ke.call(arguments);return function(){for(var t=Ke.call(arguments),n=e.length-1;n>=0;n--)t=[e[n].apply(this,t)];return t[0]}},each:function(e,t,n){if(e){if(kn&&e.forEach&&e.forEach===kn)e.forEach(t,n);else if(e.length===e.length+0){var i=void 0,s=void 0;for(i=0,s=e.length;i<s;i++)if(i in e&&t.call(n,e[i],i)===this.BREAK)return}else for(var o in e)if(t.call(n,e[o],o)===this.BREAK)return}},defer:function(e){setTimeout(e,0)},debounce:function(e,t,n){var i=void 0;return function(){var s=this,o=arguments;function a(){i=null,n||e.apply(s,o)}var l=n||!i;clearTimeout(i),i=setTimeout(a,t),l&&e.apply(s,o)}},toArray:function(e){return e.toArray?e.toArray():Ke.call(e)},isUndefined:function(e){return e===void 0},isNull:function(e){return e===null},isNaN:function(r){function e(t){return r.apply(this,arguments)}return e.toString=function(){return r.toString()},e}(function(r){return isNaN(r)}),isArray:Array.isArray||function(r){return r.constructor===Array},isObject:function(e){return e===Object(e)},isNumber:function(e){return e===e+0},isString:function(e){return e===e+""},isBoolean:function(e){return e===!1||e===!0},isFunction:function(e){return e instanceof Function}},fo=[{litmus:y.isString,conversions:{THREE_CHAR_HEX:{read:function(e){var t=e.match(/^#([A-F0-9])([A-F0-9])([A-F0-9])$/i);return t===null?!1:{space:"HEX",hex:parseInt("0x"+t[1].toString()+t[1].toString()+t[2].toString()+t[2].toString()+t[3].toString()+t[3].toString(),0)}},write:$e},SIX_CHAR_HEX:{read:function(e){var t=e.match(/^#([A-F0-9]{6})$/i);return t===null?!1:{space:"HEX",hex:parseInt("0x"+t[1].toString(),0)}},write:$e},CSS_RGB:{read:function(e){var t=e.match(/^rgb\(\s*(\S+)\s*,\s*(\S+)\s*,\s*(\S+)\s*\)/);return t===null?!1:{space:"RGB",r:parseFloat(t[1]),g:parseFloat(t[2]),b:parseFloat(t[3])}},write:$e},CSS_RGBA:{read:function(e){var t=e.match(/^rgba\(\s*(\S+)\s*,\s*(\S+)\s*,\s*(\S+)\s*,\s*(\S+)\s*\)/);return t===null?!1:{space:"RGB",r:parseFloat(t[1]),g:parseFloat(t[2]),b:parseFloat(t[3]),a:parseFloat(t[4])}},write:$e}}},{litmus:y.isNumber,conversions:{HEX:{read:function(e){return{space:"HEX",hex:e,conversionName:"HEX"}},write:function(e){return e.hex}}}},{litmus:y.isArray,conversions:{RGB_ARRAY:{read:function(e){return e.length!==3?!1:{space:"RGB",r:e[0],g:e[1],b:e[2]}},write:function(e){return[e.r,e.g,e.b]}},RGBA_ARRAY:{read:function(e){return e.length!==4?!1:{space:"RGB",r:e[0],g:e[1],b:e[2],a:e[3]}},write:function(e){return[e.r,e.g,e.b,e.a]}}}},{litmus:y.isObject,conversions:{RGBA_OBJ:{read:function(e){return y.isNumber(e.r)&&y.isNumber(e.g)&&y.isNumber(e.b)&&y.isNumber(e.a)?{space:"RGB",r:e.r,g:e.g,b:e.b,a:e.a}:!1},write:function(e){return{r:e.r,g:e.g,b:e.b,a:e.a}}},RGB_OBJ:{read:function(e){return y.isNumber(e.r)&&y.isNumber(e.g)&&y.isNumber(e.b)?{space:"RGB",r:e.r,g:e.g,b:e.b}:!1},write:function(e){return{r:e.r,g:e.g,b:e.b}}},HSVA_OBJ:{read:function(e){return y.isNumber(e.h)&&y.isNumber(e.s)&&y.isNumber(e.v)&&y.isNumber(e.a)?{space:"HSV",h:e.h,s:e.s,v:e.v,a:e.a}:!1},write:function(e){return{h:e.h,s:e.s,v:e.v,a:e.a}}},HSV_OBJ:{read:function(e){return y.isNumber(e.h)&&y.isNumber(e.s)&&y.isNumber(e.v)?{space:"HSV",h:e.h,s:e.s,v:e.v}:!1},write:function(e){return{h:e.h,s:e.s,v:e.v}}}}}],We=void 0,_t=void 0,Kt=function(){_t=!1;var e=arguments.length>1?y.toArray(arguments):arguments[0];return y.each(fo,function(t){if(t.litmus(e))return y.each(t.conversions,function(n,i){if(We=n.read(e),_t===!1&&We!==!1)return _t=We,We.conversionName=i,We.conversion=n,y.BREAK}),y.BREAK}),_t},On=void 0,xt={hsv_to_rgb:function(e,t,n){var i=Math.floor(e/60)%6,s=e/60-Math.floor(e/60),o=n*(1-t),a=n*(1-s*t),l=n*(1-(1-s)*t),d=[[n,l,o],[a,n,o],[o,n,l],[o,a,n],[l,o,n],[n,o,a]][i];return{r:d[0]*255,g:d[1]*255,b:d[2]*255}},rgb_to_hsv:function(e,t,n){var i=Math.min(e,t,n),s=Math.max(e,t,n),o=s-i,a=void 0,l=void 0;if(s!==0)l=o/s;else return{h:NaN,s:0,v:0};return e===s?a=(t-n)/o:t===s?a=2+(n-e)/o:a=4+(e-t)/o,a/=6,a<0&&(a+=1),{h:a*360,s:l,v:s/255}},rgb_to_hex:function(e,t,n){var i=this.hex_with_component(0,2,e);return i=this.hex_with_component(i,1,t),i=this.hex_with_component(i,0,n),i},component_from_hex:function(e,t){return e>>t*8&255},hex_with_component:function(e,t,n){return n<<(On=t*8)|e&~(255<<On)}},ho=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},de=function(r,e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")},ue=function(){function r(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}}(),Ae=function r(e,t,n){e===null&&(e=Function.prototype);var i=Object.getOwnPropertyDescriptor(e,t);if(i===void 0){var s=Object.getPrototypeOf(e);return s===null?void 0:r(s,t,n)}else{if("value"in i)return i.value;var o=i.get;return o===void 0?void 0:o.call(n)}},Se=function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);r.prototype=Object.create(e&&e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(r,e):r.__proto__=e)},Re=function(r,e){if(!r)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:r},K=function(){function r(){if(de(this,r),this.__state=Kt.apply(this,arguments),this.__state===!1)throw new Error("Failed to interpret color arguments");this.__state.a=this.__state.a||1}return ue(r,[{key:"toString",value:function(){return $e(this)}},{key:"toHexString",value:function(){return $e(this,!0)}},{key:"toOriginal",value:function(){return this.__state.conversion.write(this)}}]),r}();function nn(r,e,t){Object.defineProperty(r,e,{get:function(){return this.__state.space==="RGB"?this.__state[e]:(K.recalculateRGB(this,e,t),this.__state[e])},set:function(i){this.__state.space!=="RGB"&&(K.recalculateRGB(this,e,t),this.__state.space="RGB"),this.__state[e]=i}})}function rn(r,e){Object.defineProperty(r,e,{get:function(){return this.__state.space==="HSV"?this.__state[e]:(K.recalculateHSV(this),this.__state[e])},set:function(n){this.__state.space!=="HSV"&&(K.recalculateHSV(this),this.__state.space="HSV"),this.__state[e]=n}})}K.recalculateRGB=function(r,e,t){if(r.__state.space==="HEX")r.__state[e]=xt.component_from_hex(r.__state.hex,t);else if(r.__state.space==="HSV")y.extend(r.__state,xt.hsv_to_rgb(r.__state.h,r.__state.s,r.__state.v));else throw new Error("Corrupted color state")};K.recalculateHSV=function(r){var e=xt.rgb_to_hsv(r.r,r.g,r.b);y.extend(r.__state,{s:e.s,v:e.v}),y.isNaN(e.h)?y.isUndefined(r.__state.h)&&(r.__state.h=0):r.__state.h=e.h};K.COMPONENTS=["r","g","b","h","s","v","hex","a"];nn(K.prototype,"r",2);nn(K.prototype,"g",1);nn(K.prototype,"b",0);rn(K.prototype,"h");rn(K.prototype,"s");rn(K.prototype,"v");Object.defineProperty(K.prototype,"a",{get:function(){return this.__state.a},set:function(e){this.__state.a=e}});Object.defineProperty(K.prototype,"hex",{get:function(){return this.__state.space!=="HEX"&&(this.__state.hex=xt.rgb_to_hex(this.r,this.g,this.b),this.__state.space="HEX"),this.__state.hex},set:function(e){this.__state.space="HEX",this.__state.hex=e}});var Me=function(){function r(e,t){de(this,r),this.initialValue=e[t],this.domElement=document.createElement("div"),this.object=e,this.property=t,this.__onChange=void 0,this.__onFinishChange=void 0}return ue(r,[{key:"onChange",value:function(t){return this.__onChange=t,this}},{key:"onFinishChange",value:function(t){return this.__onFinishChange=t,this}},{key:"setValue",value:function(t){return this.object[this.property]=t,this.__onChange&&this.__onChange.call(this,t),this.updateDisplay(),this}},{key:"getValue",value:function(){return this.object[this.property]}},{key:"updateDisplay",value:function(){return this}},{key:"isModified",value:function(){return this.initialValue!==this.getValue()}}]),r}(),po={HTMLEvents:["change"],MouseEvents:["click","mousemove","mousedown","mouseup","mouseover"],KeyboardEvents:["keydown"]},_i={};y.each(po,function(r,e){y.each(r,function(t){_i[t]=e})});var mo=/(\d+(\.\d+)?)px/;function he(r){if(r==="0"||y.isUndefined(r))return 0;var e=r.match(mo);return y.isNull(e)?0:parseFloat(e[1])}var g={makeSelectable:function(e,t){e===void 0||e.style===void 0||(e.onselectstart=t?function(){return!1}:function(){},e.style.MozUserSelect=t?"auto":"none",e.style.KhtmlUserSelect=t?"auto":"none",e.unselectable=t?"on":"off")},makeFullscreen:function(e,t,n){var i=n,s=t;y.isUndefined(s)&&(s=!0),y.isUndefined(i)&&(i=!0),e.style.position="absolute",s&&(e.style.left=0,e.style.right=0),i&&(e.style.top=0,e.style.bottom=0)},fakeEvent:function(e,t,n,i){var s=n||{},o=_i[t];if(!o)throw new Error("Event type "+t+" not supported.");var a=document.createEvent(o);switch(o){case"MouseEvents":{var l=s.x||s.clientX||0,d=s.y||s.clientY||0;a.initMouseEvent(t,s.bubbles||!1,s.cancelable||!0,window,s.clickCount||1,0,0,l,d,!1,!1,!1,!1,0,null);break}case"KeyboardEvents":{var u=a.initKeyboardEvent||a.initKeyEvent;y.defaults(s,{cancelable:!0,ctrlKey:!1,altKey:!1,shiftKey:!1,metaKey:!1,keyCode:void 0,charCode:void 0}),u(t,s.bubbles||!1,s.cancelable,window,s.ctrlKey,s.altKey,s.shiftKey,s.metaKey,s.keyCode,s.charCode);break}default:{a.initEvent(t,s.bubbles||!1,s.cancelable||!0);break}}y.defaults(a,i),e.dispatchEvent(a)},bind:function(e,t,n,i){var s=i||!1;return e.addEventListener?e.addEventListener(t,n,s):e.attachEvent&&e.attachEvent("on"+t,n),g},unbind:function(e,t,n,i){var s=i||!1;return e.removeEventListener?e.removeEventListener(t,n,s):e.detachEvent&&e.detachEvent("on"+t,n),g},addClass:function(e,t){if(e.className===void 0)e.className=t;else if(e.className!==t){var n=e.className.split(/ +/);n.indexOf(t)===-1&&(n.push(t),e.className=n.join(" ").replace(/^\s+/,"").replace(/\s+$/,""))}return g},removeClass:function(e,t){if(t)if(e.className===t)e.removeAttribute("class");else{var n=e.className.split(/ +/),i=n.indexOf(t);i!==-1&&(n.splice(i,1),e.className=n.join(" "))}else e.className=void 0;return g},hasClass:function(e,t){return new RegExp("(?:^|\\s+)"+t+"(?:\\s+|$)").test(e.className)||!1},getWidth:function(e){var t=getComputedStyle(e);return he(t["border-left-width"])+he(t["border-right-width"])+he(t["padding-left"])+he(t["padding-right"])+he(t.width)},getHeight:function(e){var t=getComputedStyle(e);return he(t["border-top-width"])+he(t["border-bottom-width"])+he(t["padding-top"])+he(t["padding-bottom"])+he(t.height)},getOffset:function(e){var t=e,n={left:0,top:0};if(t.offsetParent)do n.left+=t.offsetLeft,n.top+=t.offsetTop,t=t.offsetParent;while(t);return n},isActive:function(e){return e===document.activeElement&&(e.type||e.href)}},bi=function(r){Se(e,r);function e(t,n){de(this,e);var i=Re(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n)),s=i;i.__prev=i.getValue(),i.__checkbox=document.createElement("input"),i.__checkbox.setAttribute("type","checkbox");function o(){s.setValue(!s.__prev)}return g.bind(i.__checkbox,"change",o,!1),i.domElement.appendChild(i.__checkbox),i.updateDisplay(),i}return ue(e,[{key:"setValue",value:function(n){var i=Ae(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"setValue",this).call(this,n);return this.__onFinishChange&&this.__onFinishChange.call(this,this.getValue()),this.__prev=this.getValue(),i}},{key:"updateDisplay",value:function(){return this.getValue()===!0?(this.__checkbox.setAttribute("checked","checked"),this.__checkbox.checked=!0,this.__prev=!0):(this.__checkbox.checked=!1,this.__prev=!1),Ae(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"updateDisplay",this).call(this)}}]),e}(Me),go=function(r){Se(e,r);function e(t,n,i){de(this,e);var s=Re(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n)),o=i,a=s;if(s.__select=document.createElement("select"),y.isArray(o)){var l={};y.each(o,function(d){l[d]=d}),o=l}return y.each(o,function(d,u){var c=document.createElement("option");c.innerHTML=u,c.setAttribute("value",d),a.__select.appendChild(c)}),s.updateDisplay(),g.bind(s.__select,"change",function(){var d=this.options[this.selectedIndex].value;a.setValue(d)}),s.domElement.appendChild(s.__select),s}return ue(e,[{key:"setValue",value:function(n){var i=Ae(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"setValue",this).call(this,n);return this.__onFinishChange&&this.__onFinishChange.call(this,this.getValue()),i}},{key:"updateDisplay",value:function(){return g.isActive(this.__select)?this:(this.__select.value=this.getValue(),Ae(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"updateDisplay",this).call(this))}}]),e}(Me),_o=function(r){Se(e,r);function e(t,n){de(this,e);var i=Re(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n)),s=i;function o(){s.setValue(s.__input.value)}function a(){s.__onFinishChange&&s.__onFinishChange.call(s,s.getValue())}return i.__input=document.createElement("input"),i.__input.setAttribute("type","text"),g.bind(i.__input,"keyup",o),g.bind(i.__input,"change",o),g.bind(i.__input,"blur",a),g.bind(i.__input,"keydown",function(l){l.keyCode===13&&this.blur()}),i.updateDisplay(),i.domElement.appendChild(i.__input),i}return ue(e,[{key:"updateDisplay",value:function(){return g.isActive(this.__input)||(this.__input.value=this.getValue()),Ae(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"updateDisplay",this).call(this)}}]),e}(Me);function Ln(r){var e=r.toString();return e.indexOf(".")>-1?e.length-e.indexOf(".")-1:0}var vi=function(r){Se(e,r);function e(t,n,i){de(this,e);var s=Re(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n)),o=i||{};return s.__min=o.min,s.__max=o.max,s.__step=o.step,y.isUndefined(s.__step)?s.initialValue===0?s.__impliedStep=1:s.__impliedStep=Math.pow(10,Math.floor(Math.log(Math.abs(s.initialValue))/Math.LN10))/10:s.__impliedStep=s.__step,s.__precision=Ln(s.__impliedStep),s}return ue(e,[{key:"setValue",value:function(n){var i=n;return this.__min!==void 0&&i<this.__min?i=this.__min:this.__max!==void 0&&i>this.__max&&(i=this.__max),this.__step!==void 0&&i%this.__step!==0&&(i=Math.round(i/this.__step)*this.__step),Ae(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"setValue",this).call(this,i)}},{key:"min",value:function(n){return this.__min=n,this}},{key:"max",value:function(n){return this.__max=n,this}},{key:"step",value:function(n){return this.__step=n,this.__impliedStep=n,this.__precision=Ln(n),this}}]),e}(Me);function bo(r,e){var t=Math.pow(10,e);return Math.round(r*t)/t}var Et=function(r){Se(e,r);function e(t,n,i){de(this,e);var s=Re(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n,i));s.__truncationSuspended=!1;var o=s,a=void 0;function l(){var v=parseFloat(o.__input.value);y.isNaN(v)||o.setValue(v)}function d(){o.__onFinishChange&&o.__onFinishChange.call(o,o.getValue())}function u(){d()}function c(v){var m=a-v.clientY;o.setValue(o.getValue()+m*o.__impliedStep),a=v.clientY}function f(){g.unbind(window,"mousemove",c),g.unbind(window,"mouseup",f),d()}function h(v){g.bind(window,"mousemove",c),g.bind(window,"mouseup",f),a=v.clientY}return s.__input=document.createElement("input"),s.__input.setAttribute("type","text"),g.bind(s.__input,"change",l),g.bind(s.__input,"blur",u),g.bind(s.__input,"mousedown",h),g.bind(s.__input,"keydown",function(v){v.keyCode===13&&(o.__truncationSuspended=!0,this.blur(),o.__truncationSuspended=!1,d())}),s.updateDisplay(),s.domElement.appendChild(s.__input),s}return ue(e,[{key:"updateDisplay",value:function(){return this.__input.value=this.__truncationSuspended?this.getValue():bo(this.getValue(),this.__precision),Ae(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"updateDisplay",this).call(this)}}]),e}(vi);function Pn(r,e,t,n,i){return n+(i-n)*((r-e)/(t-e))}var Wt=function(r){Se(e,r);function e(t,n,i,s,o){de(this,e);var a=Re(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n,{min:i,max:s,step:o})),l=a;a.__background=document.createElement("div"),a.__foreground=document.createElement("div"),g.bind(a.__background,"mousedown",d),g.bind(a.__background,"touchstart",f),g.addClass(a.__background,"slider"),g.addClass(a.__foreground,"slider-fg");function d(m){document.activeElement.blur(),g.bind(window,"mousemove",u),g.bind(window,"mouseup",c),u(m)}function u(m){m.preventDefault();var b=l.__background.getBoundingClientRect();return l.setValue(Pn(m.clientX,b.left,b.right,l.__min,l.__max)),!1}function c(){g.unbind(window,"mousemove",u),g.unbind(window,"mouseup",c),l.__onFinishChange&&l.__onFinishChange.call(l,l.getValue())}function f(m){m.touches.length===1&&(g.bind(window,"touchmove",h),g.bind(window,"touchend",v),h(m))}function h(m){var b=m.touches[0].clientX,_=l.__background.getBoundingClientRect();l.setValue(Pn(b,_.left,_.right,l.__min,l.__max))}function v(){g.unbind(window,"touchmove",h),g.unbind(window,"touchend",v),l.__onFinishChange&&l.__onFinishChange.call(l,l.getValue())}return a.updateDisplay(),a.__background.appendChild(a.__foreground),a.domElement.appendChild(a.__background),a}return ue(e,[{key:"updateDisplay",value:function(){var n=(this.getValue()-this.__min)/(this.__max-this.__min);return this.__foreground.style.width=n*100+"%",Ae(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"updateDisplay",this).call(this)}}]),e}(vi),yi=function(r){Se(e,r);function e(t,n,i){de(this,e);var s=Re(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n)),o=s;return s.__button=document.createElement("div"),s.__button.innerHTML=i===void 0?"Fire":i,g.bind(s.__button,"click",function(a){return a.preventDefault(),o.fire(),!1}),g.addClass(s.__button,"button"),s.domElement.appendChild(s.__button),s}return ue(e,[{key:"fire",value:function(){this.__onChange&&this.__onChange.call(this),this.getValue().call(this.object),this.__onFinishChange&&this.__onFinishChange.call(this,this.getValue())}}]),e}(Me),Xt=function(r){Se(e,r);function e(t,n){de(this,e);var i=Re(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));i.__color=new K(i.getValue()),i.__temp=new K(0);var s=i;i.domElement=document.createElement("div"),g.makeSelectable(i.domElement,!1),i.__selector=document.createElement("div"),i.__selector.className="selector",i.__saturation_field=document.createElement("div"),i.__saturation_field.className="saturation-field",i.__field_knob=document.createElement("div"),i.__field_knob.className="field-knob",i.__field_knob_border="2px solid ",i.__hue_knob=document.createElement("div"),i.__hue_knob.className="hue-knob",i.__hue_field=document.createElement("div"),i.__hue_field.className="hue-field",i.__input=document.createElement("input"),i.__input.type="text",i.__input_textShadow="0 1px 1px ",g.bind(i.__input,"keydown",function(m){m.keyCode===13&&c.call(this)}),g.bind(i.__input,"blur",c),g.bind(i.__selector,"mousedown",function(){g.addClass(this,"drag").bind(window,"mouseup",function(){g.removeClass(s.__selector,"drag")})}),g.bind(i.__selector,"touchstart",function(){g.addClass(this,"drag").bind(window,"touchend",function(){g.removeClass(s.__selector,"drag")})});var o=document.createElement("div");y.extend(i.__selector.style,{width:"122px",height:"102px",padding:"3px",backgroundColor:"#222",boxShadow:"0px 1px 3px rgba(0,0,0,0.3)"}),y.extend(i.__field_knob.style,{position:"absolute",width:"12px",height:"12px",border:i.__field_knob_border+(i.__color.v<.5?"#fff":"#000"),boxShadow:"0px 1px 3px rgba(0,0,0,0.5)",borderRadius:"12px",zIndex:1}),y.extend(i.__hue_knob.style,{position:"absolute",width:"15px",height:"2px",borderRight:"4px solid #fff",zIndex:1}),y.extend(i.__saturation_field.style,{width:"100px",height:"100px",border:"1px solid #555",marginRight:"3px",display:"inline-block",cursor:"pointer"}),y.extend(o.style,{width:"100%",height:"100%",background:"none"}),Mn(o,"top","rgba(0,0,0,0)","#000"),y.extend(i.__hue_field.style,{width:"15px",height:"100px",border:"1px solid #555",cursor:"ns-resize",position:"absolute",top:"3px",right:"3px"}),yo(i.__hue_field),y.extend(i.__input.style,{outline:"none",textAlign:"center",color:"#fff",border:0,fontWeight:"bold",textShadow:i.__input_textShadow+"rgba(0,0,0,0.7)"}),g.bind(i.__saturation_field,"mousedown",a),g.bind(i.__saturation_field,"touchstart",a),g.bind(i.__field_knob,"mousedown",a),g.bind(i.__field_knob,"touchstart",a),g.bind(i.__hue_field,"mousedown",l),g.bind(i.__hue_field,"touchstart",l);function a(m){h(m),g.bind(window,"mousemove",h),g.bind(window,"touchmove",h),g.bind(window,"mouseup",d),g.bind(window,"touchend",d)}function l(m){v(m),g.bind(window,"mousemove",v),g.bind(window,"touchmove",v),g.bind(window,"mouseup",u),g.bind(window,"touchend",u)}function d(){g.unbind(window,"mousemove",h),g.unbind(window,"touchmove",h),g.unbind(window,"mouseup",d),g.unbind(window,"touchend",d),f()}function u(){g.unbind(window,"mousemove",v),g.unbind(window,"touchmove",v),g.unbind(window,"mouseup",u),g.unbind(window,"touchend",u),f()}function c(){var m=Kt(this.value);m!==!1?(s.__color.__state=m,s.setValue(s.__color.toOriginal())):this.value=s.__color.toString()}function f(){s.__onFinishChange&&s.__onFinishChange.call(s,s.__color.toOriginal())}i.__saturation_field.appendChild(o),i.__selector.appendChild(i.__field_knob),i.__selector.appendChild(i.__saturation_field),i.__selector.appendChild(i.__hue_field),i.__hue_field.appendChild(i.__hue_knob),i.domElement.appendChild(i.__input),i.domElement.appendChild(i.__selector),i.updateDisplay();function h(m){m.type.indexOf("touch")===-1&&m.preventDefault();var b=s.__saturation_field.getBoundingClientRect(),_=m.touches&&m.touches[0]||m,A=_.clientX,w=_.clientY,x=(A-b.left)/(b.right-b.left),E=1-(w-b.top)/(b.bottom-b.top);return E>1?E=1:E<0&&(E=0),x>1?x=1:x<0&&(x=0),s.__color.v=E,s.__color.s=x,s.setValue(s.__color.toOriginal()),!1}function v(m){m.type.indexOf("touch")===-1&&m.preventDefault();var b=s.__hue_field.getBoundingClientRect(),_=m.touches&&m.touches[0]||m,A=_.clientY,w=1-(A-b.top)/(b.bottom-b.top);return w>1?w=1:w<0&&(w=0),s.__color.h=w*360,s.setValue(s.__color.toOriginal()),!1}return i}return ue(e,[{key:"updateDisplay",value:function(){var n=Kt(this.getValue());if(n!==!1){var i=!1;y.each(K.COMPONENTS,function(a){if(!y.isUndefined(n[a])&&!y.isUndefined(this.__color.__state[a])&&n[a]!==this.__color.__state[a])return i=!0,{}},this),i&&y.extend(this.__color.__state,n)}y.extend(this.__temp.__state,this.__color.__state),this.__temp.a=1;var s=this.__color.v<.5||this.__color.s>.5?255:0,o=255-s;y.extend(this.__field_knob.style,{marginLeft:100*this.__color.s-7+"px",marginTop:100*(1-this.__color.v)-7+"px",backgroundColor:this.__temp.toHexString(),border:this.__field_knob_border+"rgb("+s+","+s+","+s+")"}),this.__hue_knob.style.marginTop=(1-this.__color.h/360)*100+"px",this.__temp.s=1,this.__temp.v=1,Mn(this.__saturation_field,"left","#fff",this.__temp.toHexString()),this.__input.value=this.__color.toString(),y.extend(this.__input.style,{backgroundColor:this.__color.toHexString(),color:"rgb("+s+","+s+","+s+")",textShadow:this.__input_textShadow+"rgba("+o+","+o+","+o+",.7)"})}}]),e}(Me),vo=["-moz-","-o-","-webkit-","-ms-",""];function Mn(r,e,t,n){r.style.background="",y.each(vo,function(i){r.style.cssText+="background: "+i+"linear-gradient("+e+", "+t+" 0%, "+n+" 100%); "})}function yo(r){r.style.background="",r.style.cssText+="background: -moz-linear-gradient(top,  #ff0000 0%, #ff00ff 17%, #0000ff 34%, #00ffff 50%, #00ff00 67%, #ffff00 84%, #ff0000 100%);",r.style.cssText+="background: -webkit-linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);",r.style.cssText+="background: -o-linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);",r.style.cssText+="background: -ms-linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);",r.style.cssText+="background: linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);"}var wo={load:function(e,t){var n=t||document,i=n.createElement("link");i.type="text/css",i.rel="stylesheet",i.href=e,n.getElementsByTagName("head")[0].appendChild(i)},inject:function(e,t){var n=t||document,i=document.createElement("style");i.type="text/css",i.innerHTML=e;var s=n.getElementsByTagName("head")[0];try{s.appendChild(i)}catch{}}},xo=`<div id="dg-save" class="dg dialogue">

  Here's the new load parameter for your <code>GUI</code>'s constructor:

  <textarea id="dg-new-constructor"></textarea>

  <div id="dg-save-locally">

    <input id="dg-local-storage" type="checkbox"/> Automatically save
    values to <code>localStorage</code> on exit.

    <div id="dg-local-explain">The values saved to <code>localStorage</code> will
      override those passed to <code>dat.GUI</code>'s constructor. This makes it
      easier to work incrementally, but <code>localStorage</code> is fragile,
      and your friends may not see the same values you do.

    </div>

  </div>

</div>`,Eo=function(e,t){var n=e[t];return y.isArray(arguments[2])||y.isObject(arguments[2])?new go(e,t,arguments[2]):y.isNumber(n)?y.isNumber(arguments[2])&&y.isNumber(arguments[3])?y.isNumber(arguments[4])?new Wt(e,t,arguments[2],arguments[3],arguments[4]):new Wt(e,t,arguments[2],arguments[3]):y.isNumber(arguments[4])?new Et(e,t,{min:arguments[2],max:arguments[3],step:arguments[4]}):new Et(e,t,{min:arguments[2],max:arguments[3]}):y.isString(n)?new _o(e,t):y.isFunction(n)?new yi(e,t,""):y.isBoolean(n)?new bi(e,t):null};function To(r){setTimeout(r,1e3/60)}var Ao=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||To,So=function(){function r(){de(this,r),this.backgroundElement=document.createElement("div"),y.extend(this.backgroundElement.style,{backgroundColor:"rgba(0,0,0,0.8)",top:0,left:0,display:"none",zIndex:"1000",opacity:0,WebkitTransition:"opacity 0.2s linear",transition:"opacity 0.2s linear"}),g.makeFullscreen(this.backgroundElement),this.backgroundElement.style.position="fixed",this.domElement=document.createElement("div"),y.extend(this.domElement.style,{position:"fixed",display:"none",zIndex:"1001",opacity:0,WebkitTransition:"-webkit-transform 0.2s ease-out, opacity 0.2s linear",transition:"transform 0.2s ease-out, opacity 0.2s linear"}),document.body.appendChild(this.backgroundElement),document.body.appendChild(this.domElement);var e=this;g.bind(this.backgroundElement,"click",function(){e.hide()})}return ue(r,[{key:"show",value:function(){var t=this;this.backgroundElement.style.display="block",this.domElement.style.display="block",this.domElement.style.opacity=0,this.domElement.style.webkitTransform="scale(1.1)",this.layout(),y.defer(function(){t.backgroundElement.style.opacity=1,t.domElement.style.opacity=1,t.domElement.style.webkitTransform="scale(1)"})}},{key:"hide",value:function(){var t=this,n=function i(){t.domElement.style.display="none",t.backgroundElement.style.display="none",g.unbind(t.domElement,"webkitTransitionEnd",i),g.unbind(t.domElement,"transitionend",i),g.unbind(t.domElement,"oTransitionEnd",i)};g.bind(this.domElement,"webkitTransitionEnd",n),g.bind(this.domElement,"transitionend",n),g.bind(this.domElement,"oTransitionEnd",n),this.backgroundElement.style.opacity=0,this.domElement.style.opacity=0,this.domElement.style.webkitTransform="scale(1.1)"}},{key:"layout",value:function(){this.domElement.style.left=window.innerWidth/2-g.getWidth(this.domElement)/2+"px",this.domElement.style.top=window.innerHeight/2-g.getHeight(this.domElement)/2+"px"}}]),r}(),Ro=uo(`.dg ul{list-style:none;margin:0;padding:0;width:100%;clear:both}.dg.ac{position:fixed;top:0;left:0;right:0;height:0;z-index:0}.dg:not(.ac) .main{overflow:hidden}.dg.main{-webkit-transition:opacity .1s linear;-o-transition:opacity .1s linear;-moz-transition:opacity .1s linear;transition:opacity .1s linear}.dg.main.taller-than-window{overflow-y:auto}.dg.main.taller-than-window .close-button{opacity:1;margin-top:-1px;border-top:1px solid #2c2c2c}.dg.main ul.closed .close-button{opacity:1 !important}.dg.main:hover .close-button,.dg.main .close-button.drag{opacity:1}.dg.main .close-button{-webkit-transition:opacity .1s linear;-o-transition:opacity .1s linear;-moz-transition:opacity .1s linear;transition:opacity .1s linear;border:0;line-height:19px;height:20px;cursor:pointer;text-align:center;background-color:#000}.dg.main .close-button.close-top{position:relative}.dg.main .close-button.close-bottom{position:absolute}.dg.main .close-button:hover{background-color:#111}.dg.a{float:right;margin-right:15px;overflow-y:visible}.dg.a.has-save>ul.close-top{margin-top:0}.dg.a.has-save>ul.close-bottom{margin-top:27px}.dg.a.has-save>ul.closed{margin-top:0}.dg.a .save-row{top:0;z-index:1002}.dg.a .save-row.close-top{position:relative}.dg.a .save-row.close-bottom{position:fixed}.dg li{-webkit-transition:height .1s ease-out;-o-transition:height .1s ease-out;-moz-transition:height .1s ease-out;transition:height .1s ease-out;-webkit-transition:overflow .1s linear;-o-transition:overflow .1s linear;-moz-transition:overflow .1s linear;transition:overflow .1s linear}.dg li:not(.folder){cursor:auto;height:27px;line-height:27px;padding:0 4px 0 5px}.dg li.folder{padding:0;border-left:4px solid rgba(0,0,0,0)}.dg li.title{cursor:pointer;margin-left:-4px}.dg .closed li:not(.title),.dg .closed ul li,.dg .closed ul li>*{height:0;overflow:hidden;border:0}.dg .cr{clear:both;padding-left:3px;height:27px;overflow:hidden}.dg .property-name{cursor:default;float:left;clear:left;width:40%;overflow:hidden;text-overflow:ellipsis}.dg .cr.function .property-name{width:100%}.dg .c{float:left;width:60%;position:relative}.dg .c input[type=text]{border:0;margin-top:4px;padding:3px;width:100%;float:right}.dg .has-slider input[type=text]{width:30%;margin-left:0}.dg .slider{float:left;width:66%;margin-left:-5px;margin-right:0;height:19px;margin-top:4px}.dg .slider-fg{height:100%}.dg .c input[type=checkbox]{margin-top:7px}.dg .c select{margin-top:5px}.dg .cr.function,.dg .cr.function .property-name,.dg .cr.function *,.dg .cr.boolean,.dg .cr.boolean *{cursor:pointer}.dg .cr.color{overflow:visible}.dg .selector{display:none;position:absolute;margin-left:-9px;margin-top:23px;z-index:10}.dg .c:hover .selector,.dg .selector.drag{display:block}.dg li.save-row{padding:0}.dg li.save-row .button{display:inline-block;padding:0px 6px}.dg.dialogue{background-color:#222;width:460px;padding:15px;font-size:13px;line-height:15px}#dg-new-constructor{padding:10px;color:#222;font-family:Monaco, monospace;font-size:10px;border:0;resize:none;box-shadow:inset 1px 1px 1px #888;word-wrap:break-word;margin:12px 0;display:block;width:440px;overflow-y:scroll;height:100px;position:relative}#dg-local-explain{display:none;font-size:11px;line-height:17px;border-radius:3px;background-color:#333;padding:8px;margin-top:10px}#dg-local-explain code{font-size:10px}#dat-gui-save-locally{display:none}.dg{color:#eee;font:11px 'Lucida Grande', sans-serif;text-shadow:0 -1px 0 #111}.dg.main::-webkit-scrollbar{width:5px;background:#1a1a1a}.dg.main::-webkit-scrollbar-corner{height:0;display:none}.dg.main::-webkit-scrollbar-thumb{border-radius:5px;background:#676767}.dg li:not(.folder){background:#1a1a1a;border-bottom:1px solid #2c2c2c}.dg li.save-row{line-height:25px;background:#dad5cb;border:0}.dg li.save-row select{margin-left:5px;width:108px}.dg li.save-row .button{margin-left:5px;margin-top:1px;border-radius:2px;font-size:9px;line-height:7px;padding:4px 4px 5px 4px;background:#c5bdad;color:#fff;text-shadow:0 1px 0 #b0a58f;box-shadow:0 -1px 0 #b0a58f;cursor:pointer}.dg li.save-row .button.gears{background:#c5bdad url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAANCAYAAAB/9ZQ7AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAQJJREFUeNpiYKAU/P//PwGIC/ApCABiBSAW+I8AClAcgKxQ4T9hoMAEUrxx2QSGN6+egDX+/vWT4e7N82AMYoPAx/evwWoYoSYbACX2s7KxCxzcsezDh3evFoDEBYTEEqycggWAzA9AuUSQQgeYPa9fPv6/YWm/Acx5IPb7ty/fw+QZblw67vDs8R0YHyQhgObx+yAJkBqmG5dPPDh1aPOGR/eugW0G4vlIoTIfyFcA+QekhhHJhPdQxbiAIguMBTQZrPD7108M6roWYDFQiIAAv6Aow/1bFwXgis+f2LUAynwoIaNcz8XNx3Dl7MEJUDGQpx9gtQ8YCueB+D26OECAAQDadt7e46D42QAAAABJRU5ErkJggg==) 2px 1px no-repeat;height:7px;width:8px}.dg li.save-row .button:hover{background-color:#bab19e;box-shadow:0 -1px 0 #b0a58f}.dg li.folder{border-bottom:0}.dg li.title{padding-left:16px;background:#000 url(data:image/gif;base64,R0lGODlhBQAFAJEAAP////Pz8////////yH5BAEAAAIALAAAAAAFAAUAAAIIlI+hKgFxoCgAOw==) 6px 10px no-repeat;cursor:pointer;border-bottom:1px solid rgba(255,255,255,0.2)}.dg .closed li.title{background-image:url(data:image/gif;base64,R0lGODlhBQAFAJEAAP////Pz8////////yH5BAEAAAIALAAAAAAFAAUAAAIIlGIWqMCbWAEAOw==)}.dg .cr.boolean{border-left:3px solid #806787}.dg .cr.color{border-left:3px solid}.dg .cr.function{border-left:3px solid #e61d5f}.dg .cr.number{border-left:3px solid #2FA1D6}.dg .cr.number input[type=text]{color:#2FA1D6}.dg .cr.string{border-left:3px solid #1ed36f}.dg .cr.string input[type=text]{color:#1ed36f}.dg .cr.function:hover,.dg .cr.boolean:hover{background:#111}.dg .c input[type=text]{background:#303030;outline:none}.dg .c input[type=text]:hover{background:#3c3c3c}.dg .c input[type=text]:focus{background:#494949;color:#fff}.dg .c .slider{background:#303030;cursor:ew-resize}.dg .c .slider-fg{background:#2FA1D6;max-width:100%}.dg .c .slider:hover{background:#3c3c3c}.dg .c .slider:hover .slider-fg{background:#44abda}
`);wo.inject(Ro);var Nn="dg",In=72,Fn=20,st="Default",Je=function(){try{return!!window.localStorage}catch{return!1}}(),tt=void 0,Dn=!0,Be=void 0,Nt=!1,wi=[],I=function r(e){var t=this,n=e||{};this.domElement=document.createElement("div"),this.__ul=document.createElement("ul"),this.domElement.appendChild(this.__ul),g.addClass(this.domElement,Nn),this.__folders={},this.__controllers=[],this.__rememberedObjects=[],this.__rememberedObjectIndecesToControllers=[],this.__listening=[],n=y.defaults(n,{closeOnTop:!1,autoPlace:!0,width:r.DEFAULT_WIDTH}),n=y.defaults(n,{resizable:n.autoPlace,hideable:n.autoPlace}),y.isUndefined(n.load)?n.load={preset:st}:n.preset&&(n.load.preset=n.preset),y.isUndefined(n.parent)&&n.hideable&&wi.push(this),n.resizable=y.isUndefined(n.parent)&&n.resizable,n.autoPlace&&y.isUndefined(n.scrollable)&&(n.scrollable=!0);var i=Je&&localStorage.getItem(je(this,"isLocal"))==="true",s=void 0,o=void 0;if(Object.defineProperties(this,{parent:{get:function(){return n.parent}},scrollable:{get:function(){return n.scrollable}},autoPlace:{get:function(){return n.autoPlace}},closeOnTop:{get:function(){return n.closeOnTop}},preset:{get:function(){return t.parent?t.getRoot().preset:n.load.preset},set:function(f){t.parent?t.getRoot().preset=f:n.load.preset=f,Lo(this),t.revert()}},width:{get:function(){return n.width},set:function(f){n.width=f,Qt(t,f)}},name:{get:function(){return n.name},set:function(f){n.name=f,o&&(o.innerHTML=n.name)}},closed:{get:function(){return n.closed},set:function(f){n.closed=f,n.closed?g.addClass(t.__ul,r.CLASS_CLOSED):g.removeClass(t.__ul,r.CLASS_CLOSED),this.onResize(),t.__closeButton&&(t.__closeButton.innerHTML=f?r.TEXT_OPEN:r.TEXT_CLOSED)}},load:{get:function(){return n.load}},useLocalStorage:{get:function(){return i},set:function(f){Je&&(i=f,f?g.bind(window,"unload",s):g.unbind(window,"unload",s),localStorage.setItem(je(t,"isLocal"),f))}}}),y.isUndefined(n.parent)){if(this.closed=n.closed||!1,g.addClass(this.domElement,r.CLASS_MAIN),g.makeSelectable(this.domElement,!1),Je&&i){t.useLocalStorage=!0;var a=localStorage.getItem(je(this,"gui"));a&&(n.load=JSON.parse(a))}this.__closeButton=document.createElement("div"),this.__closeButton.innerHTML=r.TEXT_CLOSED,g.addClass(this.__closeButton,r.CLASS_CLOSE_BUTTON),n.closeOnTop?(g.addClass(this.__closeButton,r.CLASS_CLOSE_TOP),this.domElement.insertBefore(this.__closeButton,this.domElement.childNodes[0])):(g.addClass(this.__closeButton,r.CLASS_CLOSE_BOTTOM),this.domElement.appendChild(this.__closeButton)),g.bind(this.__closeButton,"click",function(){t.closed=!t.closed})}else{n.closed===void 0&&(n.closed=!0);var l=document.createTextNode(n.name);g.addClass(l,"controller-name"),o=sn(t,l);var d=function(f){return f.preventDefault(),t.closed=!t.closed,!1};g.addClass(this.__ul,r.CLASS_CLOSED),g.addClass(o,"title"),g.bind(o,"click",d),n.closed||(this.closed=!1)}n.autoPlace&&(y.isUndefined(n.parent)&&(Dn&&(Be=document.createElement("div"),g.addClass(Be,Nn),g.addClass(Be,r.CLASS_AUTO_PLACE_CONTAINER),document.body.appendChild(Be),Dn=!1),Be.appendChild(this.domElement),g.addClass(this.domElement,r.CLASS_AUTO_PLACE)),this.parent||Qt(t,n.width)),this.__resizeHandler=function(){t.onResizeDebounced()},g.bind(window,"resize",this.__resizeHandler),g.bind(this.__ul,"webkitTransitionEnd",this.__resizeHandler),g.bind(this.__ul,"transitionend",this.__resizeHandler),g.bind(this.__ul,"oTransitionEnd",this.__resizeHandler),this.onResize(),n.resizable&&Oo(this),s=function(){Je&&localStorage.getItem(je(t,"isLocal"))==="true"&&localStorage.setItem(je(t,"gui"),JSON.stringify(t.getSaveObject()))},this.saveToLocalStorageIfPossible=s;function u(){var c=t.getRoot();c.width+=1,y.defer(function(){c.width-=1})}n.parent||u()};I.toggleHide=function(){Nt=!Nt,y.each(wi,function(r){r.domElement.style.display=Nt?"none":""})};I.CLASS_AUTO_PLACE="a";I.CLASS_AUTO_PLACE_CONTAINER="ac";I.CLASS_MAIN="main";I.CLASS_CONTROLLER_ROW="cr";I.CLASS_TOO_TALL="taller-than-window";I.CLASS_CLOSED="closed";I.CLASS_CLOSE_BUTTON="close-button";I.CLASS_CLOSE_TOP="close-top";I.CLASS_CLOSE_BOTTOM="close-bottom";I.CLASS_DRAG="drag";I.DEFAULT_WIDTH=245;I.TEXT_CLOSED="Close Controls";I.TEXT_OPEN="Open Controls";I._keydownHandler=function(r){document.activeElement.type!=="text"&&(r.which===In||r.keyCode===In)&&I.toggleHide()};g.bind(window,"keydown",I._keydownHandler,!1);y.extend(I.prototype,{add:function(e,t){return nt(this,e,t,{factoryArgs:Array.prototype.slice.call(arguments,2)})},addColor:function(e,t){return nt(this,e,t,{color:!0})},remove:function(e){this.__ul.removeChild(e.__li),this.__controllers.splice(this.__controllers.indexOf(e),1);var t=this;y.defer(function(){t.onResize()})},destroy:function(){if(this.parent)throw new Error("Only the root GUI should be removed with .destroy(). For subfolders, use gui.removeFolder(folder) instead.");this.autoPlace&&Be.removeChild(this.domElement);var e=this;y.each(this.__folders,function(t){e.removeFolder(t)}),g.unbind(window,"keydown",I._keydownHandler,!1),Hn(this)},addFolder:function(e){if(this.__folders[e]!==void 0)throw new Error('You already have a folder in this GUI by the name "'+e+'"');var t={name:e,parent:this};t.autoPlace=this.autoPlace,this.load&&this.load.folders&&this.load.folders[e]&&(t.closed=this.load.folders[e].closed,t.load=this.load.folders[e]);var n=new I(t);this.__folders[e]=n;var i=sn(this,n.domElement);return g.addClass(i,"folder"),n},removeFolder:function(e){this.__ul.removeChild(e.domElement.parentElement),delete this.__folders[e.name],this.load&&this.load.folders&&this.load.folders[e.name]&&delete this.load.folders[e.name],Hn(e);var t=this;y.each(e.__folders,function(n){e.removeFolder(n)}),y.defer(function(){t.onResize()})},open:function(){this.closed=!1},close:function(){this.closed=!0},hide:function(){this.domElement.style.display="none"},show:function(){this.domElement.style.display=""},onResize:function(){var e=this.getRoot();if(e.scrollable){var t=g.getOffset(e.__ul).top,n=0;y.each(e.__ul.childNodes,function(i){e.autoPlace&&i===e.__save_row||(n+=g.getHeight(i))}),window.innerHeight-t-Fn<n?(g.addClass(e.domElement,I.CLASS_TOO_TALL),e.__ul.style.height=window.innerHeight-t-Fn+"px"):(g.removeClass(e.domElement,I.CLASS_TOO_TALL),e.__ul.style.height="auto")}e.__resize_handle&&y.defer(function(){e.__resize_handle.style.height=e.__ul.offsetHeight+"px"}),e.__closeButton&&(e.__closeButton.style.width=e.width+"px")},onResizeDebounced:y.debounce(function(){this.onResize()},50),remember:function(){if(y.isUndefined(tt)&&(tt=new So,tt.domElement.innerHTML=xo),this.parent)throw new Error("You can only call remember on a top level GUI.");var e=this;y.each(Array.prototype.slice.call(arguments),function(t){e.__rememberedObjects.length===0&&ko(e),e.__rememberedObjects.indexOf(t)===-1&&e.__rememberedObjects.push(t)}),this.autoPlace&&Qt(this,this.width)},getRoot:function(){for(var e=this;e.parent;)e=e.parent;return e},getSaveObject:function(){var e=this.load;return e.closed=this.closed,this.__rememberedObjects.length>0&&(e.preset=this.preset,e.remembered||(e.remembered={}),e.remembered[this.preset]=bt(this)),e.folders={},y.each(this.__folders,function(t,n){e.folders[n]=t.getSaveObject()}),e},save:function(){this.load.remembered||(this.load.remembered={}),this.load.remembered[this.preset]=bt(this),Yt(this,!1),this.saveToLocalStorageIfPossible()},saveAs:function(e){this.load.remembered||(this.load.remembered={},this.load.remembered[st]=bt(this,!0)),this.load.remembered[e]=bt(this),this.preset=e,Zt(this,e,!0),this.saveToLocalStorageIfPossible()},revert:function(e){y.each(this.__controllers,function(t){this.getRoot().load.remembered?xi(e||this.getRoot(),t):t.setValue(t.initialValue),t.__onFinishChange&&t.__onFinishChange.call(t,t.getValue())},this),y.each(this.__folders,function(t){t.revert(t)}),e||Yt(this.getRoot(),!1)},listen:function(e){var t=this.__listening.length===0;this.__listening.push(e),t&&Ei(this.__listening)},updateDisplay:function(){y.each(this.__controllers,function(e){e.updateDisplay()}),y.each(this.__folders,function(e){e.updateDisplay()})}});function sn(r,e,t){var n=document.createElement("li");return e&&n.appendChild(e),t?r.__ul.insertBefore(n,t):r.__ul.appendChild(n),r.onResize(),n}function Hn(r){g.unbind(window,"resize",r.__resizeHandler),r.saveToLocalStorageIfPossible&&g.unbind(window,"unload",r.saveToLocalStorageIfPossible)}function Yt(r,e){var t=r.__preset_select[r.__preset_select.selectedIndex];e?t.innerHTML=t.value+"*":t.innerHTML=t.value}function Co(r,e,t){if(t.__li=e,t.__gui=r,y.extend(t,{options:function(o){if(arguments.length>1){var a=t.__li.nextElementSibling;return t.remove(),nt(r,t.object,t.property,{before:a,factoryArgs:[y.toArray(arguments)]})}if(y.isArray(o)||y.isObject(o)){var l=t.__li.nextElementSibling;return t.remove(),nt(r,t.object,t.property,{before:l,factoryArgs:[o]})}},name:function(o){return t.__li.firstElementChild.firstElementChild.innerHTML=o,t},listen:function(){return t.__gui.listen(t),t},remove:function(){return t.__gui.remove(t),t}}),t instanceof Wt){var n=new Et(t.object,t.property,{min:t.__min,max:t.__max,step:t.__step});y.each(["updateDisplay","onChange","onFinishChange","step","min","max"],function(s){var o=t[s],a=n[s];t[s]=n[s]=function(){var l=Array.prototype.slice.call(arguments);return a.apply(n,l),o.apply(t,l)}}),g.addClass(e,"has-slider"),t.domElement.insertBefore(n.domElement,t.domElement.firstElementChild)}else if(t instanceof Et){var i=function(o){if(y.isNumber(t.__min)&&y.isNumber(t.__max)){var a=t.__li.firstElementChild.firstElementChild.innerHTML,l=t.__gui.__listening.indexOf(t)>-1;t.remove();var d=nt(r,t.object,t.property,{before:t.__li.nextElementSibling,factoryArgs:[t.__min,t.__max,t.__step]});return d.name(a),l&&d.listen(),d}return o};t.min=y.compose(i,t.min),t.max=y.compose(i,t.max)}else t instanceof bi?(g.bind(e,"click",function(){g.fakeEvent(t.__checkbox,"click")}),g.bind(t.__checkbox,"click",function(s){s.stopPropagation()})):t instanceof yi?(g.bind(e,"click",function(){g.fakeEvent(t.__button,"click")}),g.bind(e,"mouseover",function(){g.addClass(t.__button,"hover")}),g.bind(e,"mouseout",function(){g.removeClass(t.__button,"hover")})):t instanceof Xt&&(g.addClass(e,"color"),t.updateDisplay=y.compose(function(s){return e.style.borderLeftColor=t.__color.toString(),s},t.updateDisplay),t.updateDisplay());t.setValue=y.compose(function(s){return r.getRoot().__preset_select&&t.isModified()&&Yt(r.getRoot(),!0),s},t.setValue)}function xi(r,e){var t=r.getRoot(),n=t.__rememberedObjects.indexOf(e.object);if(n!==-1){var i=t.__rememberedObjectIndecesToControllers[n];if(i===void 0&&(i={},t.__rememberedObjectIndecesToControllers[n]=i),i[e.property]=e,t.load&&t.load.remembered){var s=t.load.remembered,o=void 0;if(s[r.preset])o=s[r.preset];else if(s[st])o=s[st];else return;if(o[n]&&o[n][e.property]!==void 0){var a=o[n][e.property];e.initialValue=a,e.setValue(a)}}}}function nt(r,e,t,n){if(e[t]===void 0)throw new Error('Object "'+e+'" has no property "'+t+'"');var i=void 0;if(n.color)i=new Xt(e,t);else{var s=[e,t].concat(n.factoryArgs);i=Eo.apply(r,s)}n.before instanceof Me&&(n.before=n.before.__li),xi(r,i),g.addClass(i.domElement,"c");var o=document.createElement("span");g.addClass(o,"property-name"),o.innerHTML=i.property;var a=document.createElement("div");a.appendChild(o),a.appendChild(i.domElement);var l=sn(r,a,n.before);return g.addClass(l,I.CLASS_CONTROLLER_ROW),i instanceof Xt?g.addClass(l,"color"):g.addClass(l,ho(i.getValue())),Co(r,l,i),r.__controllers.push(i),i}function je(r,e){return document.location.href+"."+e}function Zt(r,e,t){var n=document.createElement("option");n.innerHTML=e,n.value=e,r.__preset_select.appendChild(n),t&&(r.__preset_select.selectedIndex=r.__preset_select.length-1)}function Bn(r,e){e.style.display=r.useLocalStorage?"block":"none"}function ko(r){var e=r.__save_row=document.createElement("li");g.addClass(r.domElement,"has-save"),r.__ul.insertBefore(e,r.__ul.firstChild),g.addClass(e,"save-row");var t=document.createElement("span");t.innerHTML="&nbsp;",g.addClass(t,"button gears");var n=document.createElement("span");n.innerHTML="Save",g.addClass(n,"button"),g.addClass(n,"save");var i=document.createElement("span");i.innerHTML="New",g.addClass(i,"button"),g.addClass(i,"save-as");var s=document.createElement("span");s.innerHTML="Revert",g.addClass(s,"button"),g.addClass(s,"revert");var o=r.__preset_select=document.createElement("select");if(r.load&&r.load.remembered?y.each(r.load.remembered,function(c,f){Zt(r,f,f===r.preset)}):Zt(r,st,!1),g.bind(o,"change",function(){for(var c=0;c<r.__preset_select.length;c++)r.__preset_select[c].innerHTML=r.__preset_select[c].value;r.preset=this.value}),e.appendChild(o),e.appendChild(t),e.appendChild(n),e.appendChild(i),e.appendChild(s),Je){var a=document.getElementById("dg-local-explain"),l=document.getElementById("dg-local-storage"),d=document.getElementById("dg-save-locally");d.style.display="block",localStorage.getItem(je(r,"isLocal"))==="true"&&l.setAttribute("checked","checked"),Bn(r,a),g.bind(l,"change",function(){r.useLocalStorage=!r.useLocalStorage,Bn(r,a)})}var u=document.getElementById("dg-new-constructor");g.bind(u,"keydown",function(c){c.metaKey&&(c.which===67||c.keyCode===67)&&tt.hide()}),g.bind(t,"click",function(){u.innerHTML=JSON.stringify(r.getSaveObject(),void 0,2),tt.show(),u.focus(),u.select()}),g.bind(n,"click",function(){r.save()}),g.bind(i,"click",function(){var c=prompt("Enter a new preset name.");c&&r.saveAs(c)}),g.bind(s,"click",function(){r.revert()})}function Oo(r){var e=void 0;r.__resize_handle=document.createElement("div"),y.extend(r.__resize_handle.style,{width:"6px",marginLeft:"-3px",height:"200px",cursor:"ew-resize",position:"absolute"});function t(s){return s.preventDefault(),r.width+=e-s.clientX,r.onResize(),e=s.clientX,!1}function n(){g.removeClass(r.__closeButton,I.CLASS_DRAG),g.unbind(window,"mousemove",t),g.unbind(window,"mouseup",n)}function i(s){return s.preventDefault(),e=s.clientX,g.addClass(r.__closeButton,I.CLASS_DRAG),g.bind(window,"mousemove",t),g.bind(window,"mouseup",n),!1}g.bind(r.__resize_handle,"mousedown",i),g.bind(r.__closeButton,"mousedown",i),r.domElement.insertBefore(r.__resize_handle,r.domElement.firstElementChild)}function Qt(r,e){r.domElement.style.width=e+"px",r.__save_row&&r.autoPlace&&(r.__save_row.style.width=e+"px"),r.__closeButton&&(r.__closeButton.style.width=e+"px")}function bt(r,e){var t={};return y.each(r.__rememberedObjects,function(n,i){var s={},o=r.__rememberedObjectIndecesToControllers[i];y.each(o,function(a,l){s[l]=e?a.initialValue:a.getValue()}),t[i]=s}),t}function Lo(r){for(var e=0;e<r.__preset_select.length;e++)r.__preset_select[e].value===r.preset&&(r.__preset_select.selectedIndex=e)}function Ei(r){r.length!==0&&Ao.call(window,function(){Ei(r)}),y.each(r,function(e){e.updateDisplay()})}var Po=I;const jn={type:"change"},It={type:"start"},$n={type:"end"};class Mo extends Qi{constructor(e,t){super(),this.object=e,this.domElement=t,this.domElement.style.touchAction="none",this.enabled=!0,this.target=new Q,this.minDistance=0,this.maxDistance=1/0,this.minZoom=0,this.maxZoom=1/0,this.minPolarAngle=0,this.maxPolarAngle=Math.PI,this.minAzimuthAngle=-1/0,this.maxAzimuthAngle=1/0,this.enableDamping=!1,this.dampingFactor=.05,this.enableZoom=!0,this.zoomSpeed=1,this.enableRotate=!0,this.rotateSpeed=1,this.enablePan=!0,this.panSpeed=1,this.screenSpacePanning=!0,this.keyPanSpeed=7,this.autoRotate=!1,this.autoRotateSpeed=2,this.keys={LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",BOTTOM:"ArrowDown"},this.mouseButtons={LEFT:Fe.ROTATE,MIDDLE:Fe.DOLLY,RIGHT:Fe.PAN},this.touches={ONE:De.ROTATE,TWO:De.DOLLY_PAN},this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object.zoom,this._domElementKeyEvents=null,this.getPolarAngle=function(){return a.phi},this.getAzimuthalAngle=function(){return a.theta},this.getDistance=function(){return this.object.position.distanceTo(this.target)},this.listenToKeyEvents=function(p){p.addEventListener("keydown",ln),this._domElementKeyEvents=p},this.saveState=function(){n.target0.copy(n.target),n.position0.copy(n.object.position),n.zoom0=n.object.zoom},this.reset=function(){n.target.copy(n.target0),n.object.position.copy(n.position0),n.object.zoom=n.zoom0,n.object.updateProjectionMatrix(),n.dispatchEvent(jn),n.update(),s=i.NONE},this.update=function(){const p=new Q,R=new yt().setFromUnitVectors(e.up,new Q(0,1,0)),G=R.clone().invert(),X=new Q,ae=new yt,Ie=2*Math.PI;return function(){const fn=n.object.position;p.copy(fn).sub(n.target),p.applyQuaternion(R),a.setFromVector3(p),n.autoRotate&&s===i.NONE&&j(O()),n.enableDamping?(a.theta+=l.theta*n.dampingFactor,a.phi+=l.phi*n.dampingFactor):(a.theta+=l.theta,a.phi+=l.phi);let _e=n.minAzimuthAngle,be=n.maxAzimuthAngle;return isFinite(_e)&&isFinite(be)&&(_e<-Math.PI?_e+=Ie:_e>Math.PI&&(_e-=Ie),be<-Math.PI?be+=Ie:be>Math.PI&&(be-=Ie),_e<=be?a.theta=Math.max(_e,Math.min(be,a.theta)):a.theta=a.theta>(_e+be)/2?Math.max(_e,a.theta):Math.min(be,a.theta)),a.phi=Math.max(n.minPolarAngle,Math.min(n.maxPolarAngle,a.phi)),a.makeSafe(),a.radius*=d,a.radius=Math.max(n.minDistance,Math.min(n.maxDistance,a.radius)),n.enableDamping===!0?n.target.addScaledVector(u,n.dampingFactor):n.target.add(u),p.setFromSpherical(a),p.applyQuaternion(G),fn.copy(n.target).add(p),n.object.lookAt(n.target),n.enableDamping===!0?(l.theta*=1-n.dampingFactor,l.phi*=1-n.dampingFactor,u.multiplyScalar(1-n.dampingFactor)):(l.set(0,0,0),u.set(0,0,0)),d=1,c||X.distanceToSquared(n.object.position)>o||8*(1-ae.dot(n.object.quaternion))>o?(n.dispatchEvent(jn),X.copy(n.object.position),ae.copy(n.object.quaternion),c=!1,!0):!1}}(),this.dispose=function(){n.domElement.removeEventListener("contextmenu",cn),n.domElement.removeEventListener("pointerdown",St),n.domElement.removeEventListener("pointercancel",on),n.domElement.removeEventListener("wheel",an),n.domElement.removeEventListener("pointermove",Rt),n.domElement.removeEventListener("pointerup",Ct),n._domElementKeyEvents!==null&&n._domElementKeyEvents.removeEventListener("keydown",ln)};const n=this,i={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_PAN:4,TOUCH_DOLLY_PAN:5,TOUCH_DOLLY_ROTATE:6};let s=i.NONE;const o=1e-6,a=new _n,l=new _n;let d=1;const u=new Q;let c=!1;const f=new ie,h=new ie,v=new ie,m=new ie,b=new ie,_=new ie,A=new ie,w=new ie,x=new ie,E=[],C={};function O(){return 2*Math.PI/60/60*n.autoRotateSpeed}function F(){return Math.pow(.95,n.zoomSpeed)}function j(p){l.theta-=p}function ne(p){l.phi-=p}const W=function(){const p=new Q;return function(G,X){p.setFromMatrixColumn(X,0),p.multiplyScalar(-G),u.add(p)}}(),$=function(){const p=new Q;return function(G,X){n.screenSpacePanning===!0?p.setFromMatrixColumn(X,1):(p.setFromMatrixColumn(X,0),p.crossVectors(n.object.up,p)),p.multiplyScalar(G),u.add(p)}}(),S=function(){const p=new Q;return function(G,X){const ae=n.domElement;if(n.object.isPerspectiveCamera){const Ie=n.object.position;p.copy(Ie).sub(n.target);let ht=p.length();ht*=Math.tan(n.object.fov/2*Math.PI/180),W(2*G*ht/ae.clientHeight,n.object.matrix),$(2*X*ht/ae.clientHeight,n.object.matrix)}else n.object.isOrthographicCamera?(W(G*(n.object.right-n.object.left)/n.object.zoom/ae.clientWidth,n.object.matrix),$(X*(n.object.top-n.object.bottom)/n.object.zoom/ae.clientHeight,n.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),n.enablePan=!1)}}();function B(p){n.object.isPerspectiveCamera?d/=p:n.object.isOrthographicCamera?(n.object.zoom=Math.max(n.minZoom,Math.min(n.maxZoom,n.object.zoom*p)),n.object.updateProjectionMatrix(),c=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),n.enableZoom=!1)}function D(p){n.object.isPerspectiveCamera?d*=p:n.object.isOrthographicCamera?(n.object.zoom=Math.max(n.minZoom,Math.min(n.maxZoom,n.object.zoom/p)),n.object.updateProjectionMatrix(),c=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),n.enableZoom=!1)}function z(p){f.set(p.clientX,p.clientY)}function se(p){A.set(p.clientX,p.clientY)}function oe(p){m.set(p.clientX,p.clientY)}function ye(p){h.set(p.clientX,p.clientY),v.subVectors(h,f).multiplyScalar(n.rotateSpeed);const R=n.domElement;j(2*Math.PI*v.x/R.clientHeight),ne(2*Math.PI*v.y/R.clientHeight),f.copy(h),n.update()}function we(p){w.set(p.clientX,p.clientY),x.subVectors(w,A),x.y>0?B(F()):x.y<0&&D(F()),A.copy(w),n.update()}function xe(p){b.set(p.clientX,p.clientY),_.subVectors(b,m).multiplyScalar(n.panSpeed),S(_.x,_.y),m.copy(b),n.update()}function ge(p){p.deltaY<0?D(F()):p.deltaY>0&&B(F()),n.update()}function Ne(p){let R=!1;switch(p.code){case n.keys.UP:p.ctrlKey||p.metaKey||p.shiftKey?ne(2*Math.PI*n.rotateSpeed/n.domElement.clientHeight):S(0,n.keyPanSpeed),R=!0;break;case n.keys.BOTTOM:p.ctrlKey||p.metaKey||p.shiftKey?ne(-2*Math.PI*n.rotateSpeed/n.domElement.clientHeight):S(0,-n.keyPanSpeed),R=!0;break;case n.keys.LEFT:p.ctrlKey||p.metaKey||p.shiftKey?j(2*Math.PI*n.rotateSpeed/n.domElement.clientHeight):S(n.keyPanSpeed,0),R=!0;break;case n.keys.RIGHT:p.ctrlKey||p.metaKey||p.shiftKey?j(-2*Math.PI*n.rotateSpeed/n.domElement.clientHeight):S(-n.keyPanSpeed,0),R=!0;break}R&&(p.preventDefault(),n.update())}function Ce(){if(E.length===1)f.set(E[0].pageX,E[0].pageY);else{const p=.5*(E[0].pageX+E[1].pageX),R=.5*(E[0].pageY+E[1].pageY);f.set(p,R)}}function J(){if(E.length===1)m.set(E[0].pageX,E[0].pageY);else{const p=.5*(E[0].pageX+E[1].pageX),R=.5*(E[0].pageY+E[1].pageY);m.set(p,R)}}function ee(){const p=E[0].pageX-E[1].pageX,R=E[0].pageY-E[1].pageY,G=Math.sqrt(p*p+R*R);A.set(0,G)}function H(){n.enableZoom&&ee(),n.enablePan&&J()}function Y(){n.enableZoom&&ee(),n.enableRotate&&Ce()}function dt(p){if(E.length==1)h.set(p.pageX,p.pageY);else{const G=kt(p),X=.5*(p.pageX+G.x),ae=.5*(p.pageY+G.y);h.set(X,ae)}v.subVectors(h,f).multiplyScalar(n.rotateSpeed);const R=n.domElement;j(2*Math.PI*v.x/R.clientHeight),ne(2*Math.PI*v.y/R.clientHeight),f.copy(h)}function ut(p){if(E.length===1)b.set(p.pageX,p.pageY);else{const R=kt(p),G=.5*(p.pageX+R.x),X=.5*(p.pageY+R.y);b.set(G,X)}_.subVectors(b,m).multiplyScalar(n.panSpeed),S(_.x,_.y),m.copy(b)}function ft(p){const R=kt(p),G=p.pageX-R.x,X=p.pageY-R.y,ae=Math.sqrt(G*G+X*X);w.set(0,ae),x.set(0,Math.pow(w.y/A.y,n.zoomSpeed)),B(x.y),A.copy(w)}function At(p){n.enableZoom&&ft(p),n.enablePan&&ut(p)}function qe(p){n.enableZoom&&ft(p),n.enableRotate&&dt(p)}function St(p){n.enabled!==!1&&(E.length===0&&(n.domElement.setPointerCapture(p.pointerId),n.domElement.addEventListener("pointermove",Rt),n.domElement.addEventListener("pointerup",Ct)),Oi(p),p.pointerType==="touch"?Ci(p):Si(p))}function Rt(p){n.enabled!==!1&&(p.pointerType==="touch"?ki(p):Ri(p))}function Ct(p){dn(p),E.length===0&&(n.domElement.releasePointerCapture(p.pointerId),n.domElement.removeEventListener("pointermove",Rt),n.domElement.removeEventListener("pointerup",Ct)),n.dispatchEvent($n),s=i.NONE}function on(p){dn(p)}function Si(p){let R;switch(p.button){case 0:R=n.mouseButtons.LEFT;break;case 1:R=n.mouseButtons.MIDDLE;break;case 2:R=n.mouseButtons.RIGHT;break;default:R=-1}switch(R){case Fe.DOLLY:if(n.enableZoom===!1)return;se(p),s=i.DOLLY;break;case Fe.ROTATE:if(p.ctrlKey||p.metaKey||p.shiftKey){if(n.enablePan===!1)return;oe(p),s=i.PAN}else{if(n.enableRotate===!1)return;z(p),s=i.ROTATE}break;case Fe.PAN:if(p.ctrlKey||p.metaKey||p.shiftKey){if(n.enableRotate===!1)return;z(p),s=i.ROTATE}else{if(n.enablePan===!1)return;oe(p),s=i.PAN}break;default:s=i.NONE}s!==i.NONE&&n.dispatchEvent(It)}function Ri(p){switch(s){case i.ROTATE:if(n.enableRotate===!1)return;ye(p);break;case i.DOLLY:if(n.enableZoom===!1)return;we(p);break;case i.PAN:if(n.enablePan===!1)return;xe(p);break}}function an(p){n.enabled===!1||n.enableZoom===!1||s!==i.NONE||(p.preventDefault(),n.dispatchEvent(It),ge(p),n.dispatchEvent($n))}function ln(p){n.enabled===!1||n.enablePan===!1||Ne(p)}function Ci(p){switch(un(p),E.length){case 1:switch(n.touches.ONE){case De.ROTATE:if(n.enableRotate===!1)return;Ce(),s=i.TOUCH_ROTATE;break;case De.PAN:if(n.enablePan===!1)return;J(),s=i.TOUCH_PAN;break;default:s=i.NONE}break;case 2:switch(n.touches.TWO){case De.DOLLY_PAN:if(n.enableZoom===!1&&n.enablePan===!1)return;H(),s=i.TOUCH_DOLLY_PAN;break;case De.DOLLY_ROTATE:if(n.enableZoom===!1&&n.enableRotate===!1)return;Y(),s=i.TOUCH_DOLLY_ROTATE;break;default:s=i.NONE}break;default:s=i.NONE}s!==i.NONE&&n.dispatchEvent(It)}function ki(p){switch(un(p),s){case i.TOUCH_ROTATE:if(n.enableRotate===!1)return;dt(p),n.update();break;case i.TOUCH_PAN:if(n.enablePan===!1)return;ut(p),n.update();break;case i.TOUCH_DOLLY_PAN:if(n.enableZoom===!1&&n.enablePan===!1)return;At(p),n.update();break;case i.TOUCH_DOLLY_ROTATE:if(n.enableZoom===!1&&n.enableRotate===!1)return;qe(p),n.update();break;default:s=i.NONE}}function cn(p){n.enabled!==!1&&p.preventDefault()}function Oi(p){E.push(p)}function dn(p){delete C[p.pointerId];for(let R=0;R<E.length;R++)if(E[R].pointerId==p.pointerId){E.splice(R,1);return}}function un(p){let R=C[p.pointerId];R===void 0&&(R=new ie,C[p.pointerId]=R),R.set(p.pageX,p.pageY)}function kt(p){const R=p.pointerId===E[0].pointerId?E[1]:E[0];return C[R.pointerId]}n.domElement.addEventListener("contextmenu",cn),n.domElement.addEventListener("pointerdown",St),n.domElement.addEventListener("pointercancel",on),n.domElement.addEventListener("wheel",an,{passive:!1}),this.update()}}var it=function(){var r=0,e=document.createElement("div");e.style.cssText="position:fixed;top:0;left:0;cursor:pointer;opacity:0.9;z-index:10000",e.addEventListener("click",function(u){u.preventDefault(),n(++r%e.children.length)},!1);function t(u){return e.appendChild(u.dom),u}function n(u){for(var c=0;c<e.children.length;c++)e.children[c].style.display=c===u?"block":"none";r=u}var i=(performance||Date).now(),s=i,o=0,a=t(new it.Panel("FPS","#0ff","#002")),l=t(new it.Panel("MS","#0f0","#020"));if(self.performance&&self.performance.memory)var d=t(new it.Panel("MB","#f08","#201"));return n(0),{REVISION:16,dom:e,addPanel:t,showPanel:n,begin:function(){i=(performance||Date).now()},end:function(){o++;var u=(performance||Date).now();if(l.update(u-i,200),u>=s+1e3&&(a.update(o*1e3/(u-s),100),s=u,o=0,d)){var c=performance.memory;d.update(c.usedJSHeapSize/1048576,c.jsHeapSizeLimit/1048576)}return u},update:function(){i=this.end()},domElement:e,setMode:n}};it.Panel=function(r,e,t){var n=1/0,i=0,s=Math.round,o=s(window.devicePixelRatio||1),a=80*o,l=48*o,d=3*o,u=2*o,c=3*o,f=15*o,h=74*o,v=30*o,m=document.createElement("canvas");m.width=a,m.height=l,m.style.cssText="width:80px;height:48px";var b=m.getContext("2d");return b.font="bold "+9*o+"px Helvetica,Arial,sans-serif",b.textBaseline="top",b.fillStyle=t,b.fillRect(0,0,a,l),b.fillStyle=e,b.fillText(r,d,u),b.fillRect(c,f,h,v),b.fillStyle=t,b.globalAlpha=.9,b.fillRect(c,f,h,v),{dom:m,update:function(_,A){n=Math.min(n,_),i=Math.max(i,_),b.fillStyle=t,b.globalAlpha=1,b.fillRect(0,0,a,f),b.fillStyle=e,b.fillText(s(_)+" "+r+" ("+s(n)+"-"+s(i)+")",d,u),b.drawImage(m,c+o,f,h-o,v,c,f,h-o,v),b.fillRect(c+h-o,f,o,v),b.fillStyle=t,b.globalAlpha=.9,b.fillRect(c+h-o,f,o,s((1-_/A)*v))}}};const No=it;function zn(r,e){if(e===Ji)return console.warn("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Geometry already defined as triangles."),r;if(e===Bt||e===si){let t=r.getIndex();if(t===null){const o=[],a=r.getAttribute("position");if(a!==void 0){for(let l=0;l<a.count;l++)o.push(l);r.setIndex(o),t=r.getIndex()}else return console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Undefined position attribute. Processing not possible."),r}const n=t.count-2,i=[];if(e===Bt)for(let o=1;o<=n;o++)i.push(t.getX(0)),i.push(t.getX(o)),i.push(t.getX(o+1));else for(let o=0;o<n;o++)o%2===0?(i.push(t.getX(o)),i.push(t.getX(o+1)),i.push(t.getX(o+2))):(i.push(t.getX(o+2)),i.push(t.getX(o+1)),i.push(t.getX(o)));i.length/3!==n&&console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unable to generate correct amount of triangles.");const s=r.clone();return s.setIndex(i),s.clearGroups(),s}else return console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unknown draw mode:",e),r}class Io extends er{constructor(e){super(e),this.dracoLoader=null,this.ktx2Loader=null,this.meshoptDecoder=null,this.pluginCallbacks=[],this.register(function(t){return new jo(t)}),this.register(function(t){return new Ko(t)}),this.register(function(t){return new Wo(t)}),this.register(function(t){return new zo(t)}),this.register(function(t){return new Vo(t)}),this.register(function(t){return new Uo(t)}),this.register(function(t){return new Go(t)}),this.register(function(t){return new Bo(t)}),this.register(function(t){return new qo(t)}),this.register(function(t){return new $o(t)}),this.register(function(t){return new Do(t)}),this.register(function(t){return new Xo(t)}),this.register(function(t){return new Yo(t)})}load(e,t,n,i){const s=this;let o;this.resourcePath!==""?o=this.resourcePath:this.path!==""?o=this.path:o=jt.extractUrlBase(e),this.manager.itemStart(e);const a=function(d){i?i(d):console.error(d),s.manager.itemError(e),s.manager.itemEnd(e)},l=new oi(this.manager);l.setPath(this.path),l.setResponseType("arraybuffer"),l.setRequestHeader(this.requestHeader),l.setWithCredentials(this.withCredentials),l.load(e,function(d){try{s.parse(d,o,function(u){t(u),s.manager.itemEnd(e)},a)}catch(u){a(u)}},n,a)}setDRACOLoader(e){return this.dracoLoader=e,this}setDDSLoader(){throw new Error('THREE.GLTFLoader: "MSFT_texture_dds" no longer supported. Please update to "KHR_texture_basisu".')}setKTX2Loader(e){return this.ktx2Loader=e,this}setMeshoptDecoder(e){return this.meshoptDecoder=e,this}register(e){return this.pluginCallbacks.indexOf(e)===-1&&this.pluginCallbacks.push(e),this}unregister(e){return this.pluginCallbacks.indexOf(e)!==-1&&this.pluginCallbacks.splice(this.pluginCallbacks.indexOf(e),1),this}parse(e,t,n,i){let s;const o={},a={},l=new TextDecoder;if(typeof e=="string")s=JSON.parse(e);else if(e instanceof ArrayBuffer)if(l.decode(new Uint8Array(e,0,4))===Ti){try{o[P.KHR_BINARY_GLTF]=new Zo(e)}catch(c){i&&i(c);return}s=JSON.parse(o[P.KHR_BINARY_GLTF].content)}else s=JSON.parse(l.decode(e));else s=e;if(s.asset===void 0||s.asset.version[0]<2){i&&i(new Error("THREE.GLTFLoader: Unsupported asset. glTF versions >=2.0 are supported."));return}const d=new da(s,{path:t||this.resourcePath||"",crossOrigin:this.crossOrigin,requestHeader:this.requestHeader,manager:this.manager,ktx2Loader:this.ktx2Loader,meshoptDecoder:this.meshoptDecoder});d.fileLoader.setRequestHeader(this.requestHeader);for(let u=0;u<this.pluginCallbacks.length;u++){const c=this.pluginCallbacks[u](d);a[c.name]=c,o[c.name]=!0}if(s.extensionsUsed)for(let u=0;u<s.extensionsUsed.length;++u){const c=s.extensionsUsed[u],f=s.extensionsRequired||[];switch(c){case P.KHR_MATERIALS_UNLIT:o[c]=new Ho;break;case P.KHR_DRACO_MESH_COMPRESSION:o[c]=new Qo(s,this.dracoLoader);break;case P.KHR_TEXTURE_TRANSFORM:o[c]=new Jo;break;case P.KHR_MESH_QUANTIZATION:o[c]=new ea;break;default:f.indexOf(c)>=0&&a[c]===void 0&&console.warn('THREE.GLTFLoader: Unknown extension "'+c+'".')}}d.setExtensions(o),d.setPlugins(a),d.parse(n,i)}parseAsync(e,t){const n=this;return new Promise(function(i,s){n.parse(e,t,i,s)})}}function Fo(){let r={};return{get:function(e){return r[e]},add:function(e,t){r[e]=t},remove:function(e){delete r[e]},removeAll:function(){r={}}}}const P={KHR_BINARY_GLTF:"KHR_binary_glTF",KHR_DRACO_MESH_COMPRESSION:"KHR_draco_mesh_compression",KHR_LIGHTS_PUNCTUAL:"KHR_lights_punctual",KHR_MATERIALS_CLEARCOAT:"KHR_materials_clearcoat",KHR_MATERIALS_IOR:"KHR_materials_ior",KHR_MATERIALS_SHEEN:"KHR_materials_sheen",KHR_MATERIALS_SPECULAR:"KHR_materials_specular",KHR_MATERIALS_TRANSMISSION:"KHR_materials_transmission",KHR_MATERIALS_IRIDESCENCE:"KHR_materials_iridescence",KHR_MATERIALS_UNLIT:"KHR_materials_unlit",KHR_MATERIALS_VOLUME:"KHR_materials_volume",KHR_TEXTURE_BASISU:"KHR_texture_basisu",KHR_TEXTURE_TRANSFORM:"KHR_texture_transform",KHR_MESH_QUANTIZATION:"KHR_mesh_quantization",KHR_MATERIALS_EMISSIVE_STRENGTH:"KHR_materials_emissive_strength",EXT_TEXTURE_WEBP:"EXT_texture_webp",EXT_MESHOPT_COMPRESSION:"EXT_meshopt_compression",EXT_MESH_GPU_INSTANCING:"EXT_mesh_gpu_instancing"};class Do{constructor(e){this.parser=e,this.name=P.KHR_LIGHTS_PUNCTUAL,this.cache={refs:{},uses:{}}}_markDefs(){const e=this.parser,t=this.parser.json.nodes||[];for(let n=0,i=t.length;n<i;n++){const s=t[n];s.extensions&&s.extensions[this.name]&&s.extensions[this.name].light!==void 0&&e._addNodeRef(this.cache,s.extensions[this.name].light)}}_loadLight(e){const t=this.parser,n="light:"+e;let i=t.cache.get(n);if(i)return i;const s=t.json,l=((s.extensions&&s.extensions[this.name]||{}).lights||[])[e];let d;const u=new Le(16777215);l.color!==void 0&&u.fromArray(l.color);const c=l.range!==void 0?l.range:0;switch(l.type){case"directional":d=new ai(u),d.target.position.set(0,0,-1),d.add(d.target);break;case"point":d=new nr(u),d.distance=c;break;case"spot":d=new tr(u),d.distance=c,l.spot=l.spot||{},l.spot.innerConeAngle=l.spot.innerConeAngle!==void 0?l.spot.innerConeAngle:0,l.spot.outerConeAngle=l.spot.outerConeAngle!==void 0?l.spot.outerConeAngle:Math.PI/4,d.angle=l.spot.outerConeAngle,d.penumbra=1-l.spot.innerConeAngle/l.spot.outerConeAngle,d.target.position.set(0,0,-1),d.add(d.target);break;default:throw new Error("THREE.GLTFLoader: Unexpected light type: "+l.type)}return d.position.set(0,0,0),d.decay=2,Te(d,l),l.intensity!==void 0&&(d.intensity=l.intensity),d.name=t.createUniqueName(l.name||"light_"+e),i=Promise.resolve(d),t.cache.add(n,i),i}getDependency(e,t){if(e==="light")return this._loadLight(t)}createNodeAttachment(e){const t=this,n=this.parser,s=n.json.nodes[e],a=(s.extensions&&s.extensions[this.name]||{}).light;return a===void 0?null:this._loadLight(a).then(function(l){return n._getNodeRef(t.cache,a,l)})}}class Ho{constructor(){this.name=P.KHR_MATERIALS_UNLIT}getMaterialType(){return Ze}extendParams(e,t,n){const i=[];e.color=new Le(1,1,1),e.opacity=1;const s=t.pbrMetallicRoughness;if(s){if(Array.isArray(s.baseColorFactor)){const o=s.baseColorFactor;e.color.fromArray(o),e.opacity=o[3]}s.baseColorTexture!==void 0&&i.push(n.assignTexture(e,"map",s.baseColorTexture,Ue))}return Promise.all(i)}}class Bo{constructor(e){this.parser=e,this.name=P.KHR_MATERIALS_EMISSIVE_STRENGTH}extendMaterialParams(e,t){const i=this.parser.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=i.extensions[this.name].emissiveStrength;return s!==void 0&&(t.emissiveIntensity=s),Promise.resolve()}}class jo{constructor(e){this.parser=e,this.name=P.KHR_MATERIALS_CLEARCOAT}getMaterialType(e){const n=this.parser.json.materials[e];return!n.extensions||!n.extensions[this.name]?null:Pe}extendMaterialParams(e,t){const n=this.parser,i=n.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=[],o=i.extensions[this.name];if(o.clearcoatFactor!==void 0&&(t.clearcoat=o.clearcoatFactor),o.clearcoatTexture!==void 0&&s.push(n.assignTexture(t,"clearcoatMap",o.clearcoatTexture)),o.clearcoatRoughnessFactor!==void 0&&(t.clearcoatRoughness=o.clearcoatRoughnessFactor),o.clearcoatRoughnessTexture!==void 0&&s.push(n.assignTexture(t,"clearcoatRoughnessMap",o.clearcoatRoughnessTexture)),o.clearcoatNormalTexture!==void 0&&(s.push(n.assignTexture(t,"clearcoatNormalMap",o.clearcoatNormalTexture)),o.clearcoatNormalTexture.scale!==void 0)){const a=o.clearcoatNormalTexture.scale;t.clearcoatNormalScale=new ie(a,a)}return Promise.all(s)}}class $o{constructor(e){this.parser=e,this.name=P.KHR_MATERIALS_IRIDESCENCE}getMaterialType(e){const n=this.parser.json.materials[e];return!n.extensions||!n.extensions[this.name]?null:Pe}extendMaterialParams(e,t){const n=this.parser,i=n.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=[],o=i.extensions[this.name];return o.iridescenceFactor!==void 0&&(t.iridescence=o.iridescenceFactor),o.iridescenceTexture!==void 0&&s.push(n.assignTexture(t,"iridescenceMap",o.iridescenceTexture)),o.iridescenceIor!==void 0&&(t.iridescenceIOR=o.iridescenceIor),t.iridescenceThicknessRange===void 0&&(t.iridescenceThicknessRange=[100,400]),o.iridescenceThicknessMinimum!==void 0&&(t.iridescenceThicknessRange[0]=o.iridescenceThicknessMinimum),o.iridescenceThicknessMaximum!==void 0&&(t.iridescenceThicknessRange[1]=o.iridescenceThicknessMaximum),o.iridescenceThicknessTexture!==void 0&&s.push(n.assignTexture(t,"iridescenceThicknessMap",o.iridescenceThicknessTexture)),Promise.all(s)}}class zo{constructor(e){this.parser=e,this.name=P.KHR_MATERIALS_SHEEN}getMaterialType(e){const n=this.parser.json.materials[e];return!n.extensions||!n.extensions[this.name]?null:Pe}extendMaterialParams(e,t){const n=this.parser,i=n.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=[];t.sheenColor=new Le(0,0,0),t.sheenRoughness=0,t.sheen=1;const o=i.extensions[this.name];return o.sheenColorFactor!==void 0&&t.sheenColor.fromArray(o.sheenColorFactor),o.sheenRoughnessFactor!==void 0&&(t.sheenRoughness=o.sheenRoughnessFactor),o.sheenColorTexture!==void 0&&s.push(n.assignTexture(t,"sheenColorMap",o.sheenColorTexture,Ue)),o.sheenRoughnessTexture!==void 0&&s.push(n.assignTexture(t,"sheenRoughnessMap",o.sheenRoughnessTexture)),Promise.all(s)}}class Vo{constructor(e){this.parser=e,this.name=P.KHR_MATERIALS_TRANSMISSION}getMaterialType(e){const n=this.parser.json.materials[e];return!n.extensions||!n.extensions[this.name]?null:Pe}extendMaterialParams(e,t){const n=this.parser,i=n.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=[],o=i.extensions[this.name];return o.transmissionFactor!==void 0&&(t.transmission=o.transmissionFactor),o.transmissionTexture!==void 0&&s.push(n.assignTexture(t,"transmissionMap",o.transmissionTexture)),Promise.all(s)}}class Uo{constructor(e){this.parser=e,this.name=P.KHR_MATERIALS_VOLUME}getMaterialType(e){const n=this.parser.json.materials[e];return!n.extensions||!n.extensions[this.name]?null:Pe}extendMaterialParams(e,t){const n=this.parser,i=n.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=[],o=i.extensions[this.name];t.thickness=o.thicknessFactor!==void 0?o.thicknessFactor:0,o.thicknessTexture!==void 0&&s.push(n.assignTexture(t,"thicknessMap",o.thicknessTexture)),t.attenuationDistance=o.attenuationDistance||1/0;const a=o.attenuationColor||[1,1,1];return t.attenuationColor=new Le(a[0],a[1],a[2]),Promise.all(s)}}class Go{constructor(e){this.parser=e,this.name=P.KHR_MATERIALS_IOR}getMaterialType(e){const n=this.parser.json.materials[e];return!n.extensions||!n.extensions[this.name]?null:Pe}extendMaterialParams(e,t){const i=this.parser.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=i.extensions[this.name];return t.ior=s.ior!==void 0?s.ior:1.5,Promise.resolve()}}class qo{constructor(e){this.parser=e,this.name=P.KHR_MATERIALS_SPECULAR}getMaterialType(e){const n=this.parser.json.materials[e];return!n.extensions||!n.extensions[this.name]?null:Pe}extendMaterialParams(e,t){const n=this.parser,i=n.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=[],o=i.extensions[this.name];t.specularIntensity=o.specularFactor!==void 0?o.specularFactor:1,o.specularTexture!==void 0&&s.push(n.assignTexture(t,"specularIntensityMap",o.specularTexture));const a=o.specularColorFactor||[1,1,1];return t.specularColor=new Le(a[0],a[1],a[2]),o.specularColorTexture!==void 0&&s.push(n.assignTexture(t,"specularColorMap",o.specularColorTexture,Ue)),Promise.all(s)}}class Ko{constructor(e){this.parser=e,this.name=P.KHR_TEXTURE_BASISU}loadTexture(e){const t=this.parser,n=t.json,i=n.textures[e];if(!i.extensions||!i.extensions[this.name])return null;const s=i.extensions[this.name],o=t.options.ktx2Loader;if(!o){if(n.extensionsRequired&&n.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setKTX2Loader must be called before loading KTX2 textures");return null}return t.loadTextureImage(e,s.source,o)}}class Wo{constructor(e){this.parser=e,this.name=P.EXT_TEXTURE_WEBP,this.isSupported=null}loadTexture(e){const t=this.name,n=this.parser,i=n.json,s=i.textures[e];if(!s.extensions||!s.extensions[t])return null;const o=s.extensions[t],a=i.images[o.source];let l=n.textureLoader;if(a.uri){const d=n.options.manager.getHandler(a.uri);d!==null&&(l=d)}return this.detectSupport().then(function(d){if(d)return n.loadTextureImage(e,o.source,l);if(i.extensionsRequired&&i.extensionsRequired.indexOf(t)>=0)throw new Error("THREE.GLTFLoader: WebP required by asset but unsupported.");return n.loadTexture(e)})}detectSupport(){return this.isSupported||(this.isSupported=new Promise(function(e){const t=new Image;t.src="data:image/webp;base64,UklGRiIAAABXRUJQVlA4IBYAAAAwAQCdASoBAAEADsD+JaQAA3AAAAAA",t.onload=t.onerror=function(){e(t.height===1)}})),this.isSupported}}class Xo{constructor(e){this.name=P.EXT_MESHOPT_COMPRESSION,this.parser=e}loadBufferView(e){const t=this.parser.json,n=t.bufferViews[e];if(n.extensions&&n.extensions[this.name]){const i=n.extensions[this.name],s=this.parser.getDependency("buffer",i.buffer),o=this.parser.options.meshoptDecoder;if(!o||!o.supported){if(t.extensionsRequired&&t.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setMeshoptDecoder must be called before loading compressed files");return null}return s.then(function(a){const l=i.byteOffset||0,d=i.byteLength||0,u=i.count,c=i.byteStride,f=new Uint8Array(a,l,d);return o.decodeGltfBufferAsync?o.decodeGltfBufferAsync(u,c,f,i.mode,i.filter).then(function(h){return h.buffer}):o.ready.then(function(){const h=new ArrayBuffer(u*c);return o.decodeGltfBuffer(new Uint8Array(h),u,c,f,i.mode,i.filter),h})})}else return null}}class Yo{constructor(e){this.name=P.EXT_MESH_GPU_INSTANCING,this.parser=e}createNodeMesh(e){const t=this.parser.json,n=t.nodes[e];if(!n.extensions||!n.extensions[this.name]||n.mesh===void 0)return null;const i=t.meshes[n.mesh];for(const d of i.primitives)if(d.mode!==re.TRIANGLES&&d.mode!==re.TRIANGLE_STRIP&&d.mode!==re.TRIANGLE_FAN&&d.mode!==void 0)return null;const o=n.extensions[this.name].attributes,a=[],l={};for(const d in o)a.push(this.parser.getDependency("accessor",o[d]).then(u=>(l[d]=u,l[d])));return a.length<1?null:(a.push(this.parser.createNodeMesh(e)),Promise.all(a).then(d=>{const u=d.pop(),c=u.isGroup?u.children:[u],f=d[0].count,h=[];for(const v of c){const m=new wt,b=new Q,_=new yt,A=new Q(1,1,1),w=new ir(v.geometry,v.material,f);for(let x=0;x<f;x++)l.TRANSLATION&&b.fromBufferAttribute(l.TRANSLATION,x),l.ROTATION&&_.fromBufferAttribute(l.ROTATION,x),l.SCALE&&A.fromBufferAttribute(l.SCALE,x),w.setMatrixAt(x,m.compose(b,_,A));for(const x in l)x!=="TRANSLATION"&&x!=="ROTATION"&&x!=="SCALE"&&v.geometry.setAttribute(x,l[x]);li.prototype.copy.call(w,v),w.frustumCulled=!1,this.parser.assignFinalMaterial(w),h.push(w)}return u.isGroup?(u.clear(),u.add(...h),u):h[0]}))}}const Ti="glTF",Xe=12,Vn={JSON:1313821514,BIN:5130562};class Zo{constructor(e){this.name=P.KHR_BINARY_GLTF,this.content=null,this.body=null;const t=new DataView(e,0,Xe),n=new TextDecoder;if(this.header={magic:n.decode(new Uint8Array(e.slice(0,4))),version:t.getUint32(4,!0),length:t.getUint32(8,!0)},this.header.magic!==Ti)throw new Error("THREE.GLTFLoader: Unsupported glTF-Binary header.");if(this.header.version<2)throw new Error("THREE.GLTFLoader: Legacy binary file detected.");const i=this.header.length-Xe,s=new DataView(e,Xe);let o=0;for(;o<i;){const a=s.getUint32(o,!0);o+=4;const l=s.getUint32(o,!0);if(o+=4,l===Vn.JSON){const d=new Uint8Array(e,Xe+o,a);this.content=n.decode(d)}else if(l===Vn.BIN){const d=Xe+o;this.body=e.slice(d,d+a)}o+=a}if(this.content===null)throw new Error("THREE.GLTFLoader: JSON content not found.")}}class Qo{constructor(e,t){if(!t)throw new Error("THREE.GLTFLoader: No DRACOLoader instance provided.");this.name=P.KHR_DRACO_MESH_COMPRESSION,this.json=e,this.dracoLoader=t,this.dracoLoader.preload()}decodePrimitive(e,t){const n=this.json,i=this.dracoLoader,s=e.extensions[this.name].bufferView,o=e.extensions[this.name].attributes,a={},l={},d={};for(const u in o){const c=Jt[u]||u.toLowerCase();a[c]=o[u]}for(const u in e.attributes){const c=Jt[u]||u.toLowerCase();if(o[u]!==void 0){const f=n.accessors[e.attributes[u]],h=ze[f.componentType];d[c]=h.name,l[c]=f.normalized===!0}}return t.getDependency("bufferView",s).then(function(u){return new Promise(function(c){i.decodeDracoFile(u,function(f){for(const h in f.attributes){const v=f.attributes[h],m=l[h];m!==void 0&&(v.normalized=m)}c(f)},a,d)})})}}class Jo{constructor(){this.name=P.KHR_TEXTURE_TRANSFORM}extendTexture(e,t){return t.texCoord!==void 0&&console.warn('THREE.GLTFLoader: Custom UV sets in "'+this.name+'" extension not yet supported.'),t.offset===void 0&&t.rotation===void 0&&t.scale===void 0||(e=e.clone(),t.offset!==void 0&&e.offset.fromArray(t.offset),t.rotation!==void 0&&(e.rotation=t.rotation),t.scale!==void 0&&e.repeat.fromArray(t.scale),e.needsUpdate=!0),e}}class ea{constructor(){this.name=P.KHR_MESH_QUANTIZATION}}class Ai extends Fr{constructor(e,t,n,i){super(e,t,n,i)}copySampleValue_(e){const t=this.resultBuffer,n=this.sampleValues,i=this.valueSize,s=e*i*3+i;for(let o=0;o!==i;o++)t[o]=n[s+o];return t}interpolate_(e,t,n,i){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=a*2,d=a*3,u=i-t,c=(n-t)/u,f=c*c,h=f*c,v=e*d,m=v-d,b=-2*h+3*f,_=h-f,A=1-b,w=_-f+c;for(let x=0;x!==a;x++){const E=o[m+x+a],C=o[m+x+l]*u,O=o[v+x+a],F=o[v+x]*u;s[x]=A*E+w*C+b*O+_*F}return s}}const ta=new yt;class na extends Ai{interpolate_(e,t,n,i){const s=super.interpolate_(e,t,n,i);return ta.fromArray(s).normalize().toArray(s),s}}const re={FLOAT:5126,FLOAT_MAT3:35675,FLOAT_MAT4:35676,FLOAT_VEC2:35664,FLOAT_VEC3:35665,FLOAT_VEC4:35666,LINEAR:9729,REPEAT:10497,SAMPLER_2D:35678,POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6,UNSIGNED_BYTE:5121,UNSIGNED_SHORT:5123},ze={5120:Int8Array,5121:Uint8Array,5122:Int16Array,5123:Uint16Array,5125:Uint32Array,5126:Float32Array},Un={9728:Er,9729:ci,9984:Tr,9985:Ar,9986:Sr,9987:di},Gn={33071:Rr,33648:Cr,10497:$t},Ft={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},Jt={POSITION:"position",NORMAL:"normal",TANGENT:"tangent",TEXCOORD_0:"uv",TEXCOORD_1:"uv2",COLOR_0:"color",WEIGHTS_0:"skinWeight",JOINTS_0:"skinIndex"},Ee={scale:"scale",translation:"position",rotation:"quaternion",weights:"morphTargetInfluences"},ia={CUBICSPLINE:void 0,LINEAR:hi,STEP:kr},Dt={OPAQUE:"OPAQUE",MASK:"MASK",BLEND:"BLEND"};function ra(r){return r.DefaultMaterial===void 0&&(r.DefaultMaterial=new ui({color:16777215,emissive:0,metalness:1,roughness:1,transparent:!1,depthTest:!0,side:Or})),r.DefaultMaterial}function Ye(r,e,t){for(const n in t.extensions)r[n]===void 0&&(e.userData.gltfExtensions=e.userData.gltfExtensions||{},e.userData.gltfExtensions[n]=t.extensions[n])}function Te(r,e){e.extras!==void 0&&(typeof e.extras=="object"?Object.assign(r.userData,e.extras):console.warn("THREE.GLTFLoader: Ignoring primitive type .extras, "+e.extras))}function sa(r,e,t){let n=!1,i=!1,s=!1;for(let d=0,u=e.length;d<u;d++){const c=e[d];if(c.POSITION!==void 0&&(n=!0),c.NORMAL!==void 0&&(i=!0),c.COLOR_0!==void 0&&(s=!0),n&&i&&s)break}if(!n&&!i&&!s)return Promise.resolve(r);const o=[],a=[],l=[];for(let d=0,u=e.length;d<u;d++){const c=e[d];if(n){const f=c.POSITION!==void 0?t.getDependency("accessor",c.POSITION):r.attributes.position;o.push(f)}if(i){const f=c.NORMAL!==void 0?t.getDependency("accessor",c.NORMAL):r.attributes.normal;a.push(f)}if(s){const f=c.COLOR_0!==void 0?t.getDependency("accessor",c.COLOR_0):r.attributes.color;l.push(f)}}return Promise.all([Promise.all(o),Promise.all(a),Promise.all(l)]).then(function(d){const u=d[0],c=d[1],f=d[2];return n&&(r.morphAttributes.position=u),i&&(r.morphAttributes.normal=c),s&&(r.morphAttributes.color=f),r.morphTargetsRelative=!0,r})}function oa(r,e){if(r.updateMorphTargets(),e.weights!==void 0)for(let t=0,n=e.weights.length;t<n;t++)r.morphTargetInfluences[t]=e.weights[t];if(e.extras&&Array.isArray(e.extras.targetNames)){const t=e.extras.targetNames;if(r.morphTargetInfluences.length===t.length){r.morphTargetDictionary={};for(let n=0,i=t.length;n<i;n++)r.morphTargetDictionary[t[n]]=n}else console.warn("THREE.GLTFLoader: Invalid extras.targetNames length. Ignoring names.")}}function aa(r){const e=r.extensions&&r.extensions[P.KHR_DRACO_MESH_COMPRESSION];let t;return e?t="draco:"+e.bufferView+":"+e.indices+":"+qn(e.attributes):t=r.indices+":"+qn(r.attributes)+":"+r.mode,t}function qn(r){let e="";const t=Object.keys(r).sort();for(let n=0,i=t.length;n<i;n++)e+=t[n]+":"+r[t[n]]+";";return e}function en(r){switch(r){case Int8Array:return 1/127;case Uint8Array:return 1/255;case Int16Array:return 1/32767;case Uint16Array:return 1/65535;default:throw new Error("THREE.GLTFLoader: Unsupported normalized accessor component type.")}}function la(r){return r.search(/\.jpe?g($|\?)/i)>0||r.search(/^data\:image\/jpeg/)===0?"image/jpeg":r.search(/\.webp($|\?)/i)>0||r.search(/^data\:image\/webp/)===0?"image/webp":"image/png"}const ca=new wt;class da{constructor(e={},t={}){this.json=e,this.extensions={},this.plugins={},this.options=t,this.cache=new Fo,this.associations=new Map,this.primitiveCache={},this.meshCache={refs:{},uses:{}},this.cameraCache={refs:{},uses:{}},this.lightCache={refs:{},uses:{}},this.sourceCache={},this.textureCache={},this.nodeNamesUsed={};let n=!1,i=!1,s=-1;typeof navigator<"u"&&(n=/^((?!chrome|android).)*safari/i.test(navigator.userAgent)===!0,i=navigator.userAgent.indexOf("Firefox")>-1,s=i?navigator.userAgent.match(/Firefox\/([0-9]+)\./)[1]:-1),typeof createImageBitmap>"u"||n||i&&s<98?this.textureLoader=new rr(this.options.manager):this.textureLoader=new sr(this.options.manager),this.textureLoader.setCrossOrigin(this.options.crossOrigin),this.textureLoader.setRequestHeader(this.options.requestHeader),this.fileLoader=new oi(this.options.manager),this.fileLoader.setResponseType("arraybuffer"),this.options.crossOrigin==="use-credentials"&&this.fileLoader.setWithCredentials(!0)}setExtensions(e){this.extensions=e}setPlugins(e){this.plugins=e}parse(e,t){const n=this,i=this.json,s=this.extensions;this.cache.removeAll(),this._invokeAll(function(o){return o._markDefs&&o._markDefs()}),Promise.all(this._invokeAll(function(o){return o.beforeRoot&&o.beforeRoot()})).then(function(){return Promise.all([n.getDependencies("scene"),n.getDependencies("animation"),n.getDependencies("camera")])}).then(function(o){const a={scene:o[0][i.scene||0],scenes:o[0],animations:o[1],cameras:o[2],asset:i.asset,parser:n,userData:{}};Ye(s,a,i),Te(a,i),Promise.all(n._invokeAll(function(l){return l.afterRoot&&l.afterRoot(a)})).then(function(){e(a)})}).catch(t)}_markDefs(){const e=this.json.nodes||[],t=this.json.skins||[],n=this.json.meshes||[];for(let i=0,s=t.length;i<s;i++){const o=t[i].joints;for(let a=0,l=o.length;a<l;a++)e[o[a]].isBone=!0}for(let i=0,s=e.length;i<s;i++){const o=e[i];o.mesh!==void 0&&(this._addNodeRef(this.meshCache,o.mesh),o.skin!==void 0&&(n[o.mesh].isSkinnedMesh=!0)),o.camera!==void 0&&this._addNodeRef(this.cameraCache,o.camera)}}_addNodeRef(e,t){t!==void 0&&(e.refs[t]===void 0&&(e.refs[t]=e.uses[t]=0),e.refs[t]++)}_getNodeRef(e,t,n){if(e.refs[t]<=1)return n;const i=n.clone(),s=(o,a)=>{const l=this.associations.get(o);l!=null&&this.associations.set(a,l);for(const[d,u]of o.children.entries())s(u,a.children[d])};return s(n,i),i.name+="_instance_"+e.uses[t]++,i}_invokeOne(e){const t=Object.values(this.plugins);t.push(this);for(let n=0;n<t.length;n++){const i=e(t[n]);if(i)return i}return null}_invokeAll(e){const t=Object.values(this.plugins);t.unshift(this);const n=[];for(let i=0;i<t.length;i++){const s=e(t[i]);s&&n.push(s)}return n}getDependency(e,t){const n=e+":"+t;let i=this.cache.get(n);if(!i){switch(e){case"scene":i=this.loadScene(t);break;case"node":i=this._invokeOne(function(s){return s.loadNode&&s.loadNode(t)});break;case"mesh":i=this._invokeOne(function(s){return s.loadMesh&&s.loadMesh(t)});break;case"accessor":i=this.loadAccessor(t);break;case"bufferView":i=this._invokeOne(function(s){return s.loadBufferView&&s.loadBufferView(t)});break;case"buffer":i=this.loadBuffer(t);break;case"material":i=this._invokeOne(function(s){return s.loadMaterial&&s.loadMaterial(t)});break;case"texture":i=this._invokeOne(function(s){return s.loadTexture&&s.loadTexture(t)});break;case"skin":i=this.loadSkin(t);break;case"animation":i=this._invokeOne(function(s){return s.loadAnimation&&s.loadAnimation(t)});break;case"camera":i=this.loadCamera(t);break;default:if(i=this._invokeOne(function(s){return s!=this&&s.getDependency&&s.getDependency(e,t)}),!i)throw new Error("Unknown type: "+e);break}this.cache.add(n,i)}return i}getDependencies(e){let t=this.cache.get(e);if(!t){const n=this,i=this.json[e+(e==="mesh"?"es":"s")]||[];t=Promise.all(i.map(function(s,o){return n.getDependency(e,o)})),this.cache.add(e,t)}return t}loadBuffer(e){const t=this.json.buffers[e],n=this.fileLoader;if(t.type&&t.type!=="arraybuffer")throw new Error("THREE.GLTFLoader: "+t.type+" buffer type is not supported.");if(t.uri===void 0&&e===0)return Promise.resolve(this.extensions[P.KHR_BINARY_GLTF].body);const i=this.options;return new Promise(function(s,o){n.load(jt.resolveURL(t.uri,i.path),s,void 0,function(){o(new Error('THREE.GLTFLoader: Failed to load buffer "'+t.uri+'".'))})})}loadBufferView(e){const t=this.json.bufferViews[e];return this.getDependency("buffer",t.buffer).then(function(n){const i=t.byteLength||0,s=t.byteOffset||0;return n.slice(s,s+i)})}loadAccessor(e){const t=this,n=this.json,i=this.json.accessors[e];if(i.bufferView===void 0&&i.sparse===void 0){const o=Ft[i.type],a=ze[i.componentType],l=i.normalized===!0,d=new a(i.count*o);return Promise.resolve(new Ot(d,o,l))}const s=[];return i.bufferView!==void 0?s.push(this.getDependency("bufferView",i.bufferView)):s.push(null),i.sparse!==void 0&&(s.push(this.getDependency("bufferView",i.sparse.indices.bufferView)),s.push(this.getDependency("bufferView",i.sparse.values.bufferView))),Promise.all(s).then(function(o){const a=o[0],l=Ft[i.type],d=ze[i.componentType],u=d.BYTES_PER_ELEMENT,c=u*l,f=i.byteOffset||0,h=i.bufferView!==void 0?n.bufferViews[i.bufferView].byteStride:void 0,v=i.normalized===!0;let m,b;if(h&&h!==c){const _=Math.floor(f/h),A="InterleavedBuffer:"+i.bufferView+":"+i.componentType+":"+_+":"+i.count;let w=t.cache.get(A);w||(m=new d(a,_*h,i.count*h/u),w=new or(m,h/u),t.cache.add(A,w)),b=new Lr(w,l,f%h/u,v)}else a===null?m=new d(i.count*l):m=new d(a,f,i.count*l),b=new Ot(m,l,v);if(i.sparse!==void 0){const _=Ft.SCALAR,A=ze[i.sparse.indices.componentType],w=i.sparse.indices.byteOffset||0,x=i.sparse.values.byteOffset||0,E=new A(o[1],w,i.sparse.count*_),C=new d(o[2],x,i.sparse.count*l);a!==null&&(b=new Ot(b.array.slice(),b.itemSize,b.normalized));for(let O=0,F=E.length;O<F;O++){const j=E[O];if(b.setX(j,C[O*l]),l>=2&&b.setY(j,C[O*l+1]),l>=3&&b.setZ(j,C[O*l+2]),l>=4&&b.setW(j,C[O*l+3]),l>=5)throw new Error("THREE.GLTFLoader: Unsupported itemSize in sparse BufferAttribute.")}}return b})}loadTexture(e){const t=this.json,n=this.options,s=t.textures[e].source,o=t.images[s];let a=this.textureLoader;if(o.uri){const l=n.manager.getHandler(o.uri);l!==null&&(a=l)}return this.loadTextureImage(e,s,a)}loadTextureImage(e,t,n){const i=this,s=this.json,o=s.textures[e],a=s.images[t],l=(a.uri||a.bufferView)+":"+o.sampler;if(this.textureCache[l])return this.textureCache[l];const d=this.loadImageSource(t,n).then(function(u){u.flipY=!1,u.name=o.name||a.name||"";const f=(s.samplers||{})[o.sampler]||{};return u.magFilter=Un[f.magFilter]||ci,u.minFilter=Un[f.minFilter]||di,u.wrapS=Gn[f.wrapS]||$t,u.wrapT=Gn[f.wrapT]||$t,i.associations.set(u,{textures:e}),u}).catch(function(){return null});return this.textureCache[l]=d,d}loadImageSource(e,t){const n=this,i=this.json,s=this.options;if(this.sourceCache[e]!==void 0)return this.sourceCache[e].then(c=>c.clone());const o=i.images[e],a=self.URL||self.webkitURL;let l=o.uri||"",d=!1;if(o.bufferView!==void 0)l=n.getDependency("bufferView",o.bufferView).then(function(c){d=!0;const f=new Blob([c],{type:o.mimeType});return l=a.createObjectURL(f),l});else if(o.uri===void 0)throw new Error("THREE.GLTFLoader: Image "+e+" is missing URI and bufferView");const u=Promise.resolve(l).then(function(c){return new Promise(function(f,h){let v=f;t.isImageBitmapLoader===!0&&(v=function(m){const b=new bn(m);b.needsUpdate=!0,f(b)}),t.load(jt.resolveURL(c,s.path),v,void 0,h)})}).then(function(c){return d===!0&&a.revokeObjectURL(l),c.userData.mimeType=o.mimeType||la(o.uri),c}).catch(function(c){throw console.error("THREE.GLTFLoader: Couldn't load texture",l),c});return this.sourceCache[e]=u,u}assignTexture(e,t,n,i){const s=this;return this.getDependency("texture",n.index).then(function(o){if(!o)return null;if(n.texCoord!==void 0&&n.texCoord!=0&&!(t==="aoMap"&&n.texCoord==1)&&console.warn("THREE.GLTFLoader: Custom UV set "+n.texCoord+" for texture "+t+" not yet supported."),s.extensions[P.KHR_TEXTURE_TRANSFORM]){const a=n.extensions!==void 0?n.extensions[P.KHR_TEXTURE_TRANSFORM]:void 0;if(a){const l=s.associations.get(o);o=s.extensions[P.KHR_TEXTURE_TRANSFORM].extendTexture(o,a),s.associations.set(o,l)}}return i!==void 0&&(o.encoding=i),e[t]=o,o})}assignFinalMaterial(e){const t=e.geometry;let n=e.material;const i=t.attributes.tangent===void 0,s=t.attributes.color!==void 0,o=t.attributes.normal===void 0;if(e.isPoints){const a="PointsMaterial:"+n.uuid;let l=this.cache.get(a);l||(l=new ar,Lt.prototype.copy.call(l,n),l.color.copy(n.color),l.map=n.map,l.sizeAttenuation=!1,this.cache.add(a,l)),n=l}else if(e.isLine){const a="LineBasicMaterial:"+n.uuid;let l=this.cache.get(a);l||(l=new lr,Lt.prototype.copy.call(l,n),l.color.copy(n.color),this.cache.add(a,l)),n=l}if(i||s||o){let a="ClonedMaterial:"+n.uuid+":";i&&(a+="derivative-tangents:"),s&&(a+="vertex-colors:"),o&&(a+="flat-shading:");let l=this.cache.get(a);l||(l=n.clone(),s&&(l.vertexColors=!0),o&&(l.flatShading=!0),i&&(l.normalScale&&(l.normalScale.y*=-1),l.clearcoatNormalScale&&(l.clearcoatNormalScale.y*=-1)),this.cache.add(a,l),this.associations.set(l,this.associations.get(n))),n=l}n.aoMap&&t.attributes.uv2===void 0&&t.attributes.uv!==void 0&&t.setAttribute("uv2",t.attributes.uv),e.material=n}getMaterialType(){return ui}loadMaterial(e){const t=this,n=this.json,i=this.extensions,s=n.materials[e];let o;const a={},l=s.extensions||{},d=[];if(l[P.KHR_MATERIALS_UNLIT]){const c=i[P.KHR_MATERIALS_UNLIT];o=c.getMaterialType(),d.push(c.extendParams(a,s,t))}else{const c=s.pbrMetallicRoughness||{};if(a.color=new Le(1,1,1),a.opacity=1,Array.isArray(c.baseColorFactor)){const f=c.baseColorFactor;a.color.fromArray(f),a.opacity=f[3]}c.baseColorTexture!==void 0&&d.push(t.assignTexture(a,"map",c.baseColorTexture,Ue)),a.metalness=c.metallicFactor!==void 0?c.metallicFactor:1,a.roughness=c.roughnessFactor!==void 0?c.roughnessFactor:1,c.metallicRoughnessTexture!==void 0&&(d.push(t.assignTexture(a,"metalnessMap",c.metallicRoughnessTexture)),d.push(t.assignTexture(a,"roughnessMap",c.metallicRoughnessTexture))),o=this._invokeOne(function(f){return f.getMaterialType&&f.getMaterialType(e)}),d.push(Promise.all(this._invokeAll(function(f){return f.extendMaterialParams&&f.extendMaterialParams(e,a)})))}s.doubleSided===!0&&(a.side=cr);const u=s.alphaMode||Dt.OPAQUE;if(u===Dt.BLEND?(a.transparent=!0,a.depthWrite=!1):(a.transparent=!1,u===Dt.MASK&&(a.alphaTest=s.alphaCutoff!==void 0?s.alphaCutoff:.5)),s.normalTexture!==void 0&&o!==Ze&&(d.push(t.assignTexture(a,"normalMap",s.normalTexture)),a.normalScale=new ie(1,1),s.normalTexture.scale!==void 0)){const c=s.normalTexture.scale;a.normalScale.set(c,c)}return s.occlusionTexture!==void 0&&o!==Ze&&(d.push(t.assignTexture(a,"aoMap",s.occlusionTexture)),s.occlusionTexture.strength!==void 0&&(a.aoMapIntensity=s.occlusionTexture.strength)),s.emissiveFactor!==void 0&&o!==Ze&&(a.emissive=new Le().fromArray(s.emissiveFactor)),s.emissiveTexture!==void 0&&o!==Ze&&d.push(t.assignTexture(a,"emissiveMap",s.emissiveTexture,Ue)),Promise.all(d).then(function(){const c=new o(a);return s.name&&(c.name=s.name),Te(c,s),t.associations.set(c,{materials:e}),s.extensions&&Ye(i,c,s),c})}createUniqueName(e){const t=dr.sanitizeNodeName(e||"");let n=t;for(let i=1;this.nodeNamesUsed[n];++i)n=t+"_"+i;return this.nodeNamesUsed[n]=!0,n}loadGeometries(e){const t=this,n=this.extensions,i=this.primitiveCache;function s(a){return n[P.KHR_DRACO_MESH_COMPRESSION].decodePrimitive(a,t).then(function(l){return Kn(l,a,t)})}const o=[];for(let a=0,l=e.length;a<l;a++){const d=e[a],u=aa(d),c=i[u];if(c)o.push(c.promise);else{let f;d.extensions&&d.extensions[P.KHR_DRACO_MESH_COMPRESSION]?f=s(d):f=Kn(new ur,d,t),i[u]={primitive:d,promise:f},o.push(f)}}return Promise.all(o)}loadMesh(e){const t=this,n=this.json,i=this.extensions,s=n.meshes[e],o=s.primitives,a=[];for(let l=0,d=o.length;l<d;l++){const u=o[l].material===void 0?ra(this.cache):this.getDependency("material",o[l].material);a.push(u)}return a.push(t.loadGeometries(o)),Promise.all(a).then(function(l){const d=l.slice(0,l.length-1),u=l[l.length-1],c=[];for(let h=0,v=u.length;h<v;h++){const m=u[h],b=o[h];let _;const A=d[h];if(b.mode===re.TRIANGLES||b.mode===re.TRIANGLE_STRIP||b.mode===re.TRIANGLE_FAN||b.mode===void 0)_=s.isSkinnedMesh===!0?new fr(m,A):new hr(m,A),_.isSkinnedMesh===!0&&!_.geometry.attributes.skinWeight.normalized&&_.normalizeSkinWeights(),b.mode===re.TRIANGLE_STRIP?_.geometry=zn(_.geometry,si):b.mode===re.TRIANGLE_FAN&&(_.geometry=zn(_.geometry,Bt));else if(b.mode===re.LINES)_=new pr(m,A);else if(b.mode===re.LINE_STRIP)_=new mr(m,A);else if(b.mode===re.LINE_LOOP)_=new gr(m,A);else if(b.mode===re.POINTS)_=new _r(m,A);else throw new Error("THREE.GLTFLoader: Primitive mode unsupported: "+b.mode);Object.keys(_.geometry.morphAttributes).length>0&&oa(_,s),_.name=t.createUniqueName(s.name||"mesh_"+e),Te(_,s),b.extensions&&Ye(i,_,b),t.assignFinalMaterial(_),c.push(_)}for(let h=0,v=c.length;h<v;h++)t.associations.set(c[h],{meshes:e,primitives:h});if(c.length===1)return c[0];const f=new Pt;t.associations.set(f,{meshes:e});for(let h=0,v=c.length;h<v;h++)f.add(c[h]);return f})}loadCamera(e){let t;const n=this.json.cameras[e],i=n[n.type];if(!i){console.warn("THREE.GLTFLoader: Missing camera parameters.");return}return n.type==="perspective"?t=new fi(br.radToDeg(i.yfov),i.aspectRatio||1,i.znear||1,i.zfar||2e6):n.type==="orthographic"&&(t=new vr(-i.xmag,i.xmag,i.ymag,-i.ymag,i.znear,i.zfar)),n.name&&(t.name=this.createUniqueName(n.name)),Te(t,n),Promise.resolve(t)}loadSkin(e){const t=this.json.skins[e],n=[];for(let i=0,s=t.joints.length;i<s;i++)n.push(this.getDependency("node",t.joints[i]));return t.inverseBindMatrices!==void 0?n.push(this.getDependency("accessor",t.inverseBindMatrices)):n.push(null),Promise.all(n).then(function(i){const s=i.pop(),o=i,a=[],l=[];for(let d=0,u=o.length;d<u;d++){const c=o[d];if(c){a.push(c);const f=new wt;s!==null&&f.fromArray(s.array,d*16),l.push(f)}else console.warn('THREE.GLTFLoader: Joint "%s" could not be found.',t.joints[d])}return new yr(a,l)})}loadAnimation(e){const n=this.json.animations[e],i=[],s=[],o=[],a=[],l=[];for(let d=0,u=n.channels.length;d<u;d++){const c=n.channels[d],f=n.samplers[c.sampler],h=c.target,v=h.node,m=n.parameters!==void 0?n.parameters[f.input]:f.input,b=n.parameters!==void 0?n.parameters[f.output]:f.output;i.push(this.getDependency("node",v)),s.push(this.getDependency("accessor",m)),o.push(this.getDependency("accessor",b)),a.push(f),l.push(h)}return Promise.all([Promise.all(i),Promise.all(s),Promise.all(o),Promise.all(a),Promise.all(l)]).then(function(d){const u=d[0],c=d[1],f=d[2],h=d[3],v=d[4],m=[];for(let _=0,A=u.length;_<A;_++){const w=u[_],x=c[_],E=f[_],C=h[_],O=v[_];if(w===void 0)continue;w.updateMatrix();let F;switch(Ee[O.path]){case Ee.weights:F=Mr;break;case Ee.rotation:F=vn;break;case Ee.position:case Ee.scale:default:F=Pr;break}const j=w.name?w.name:w.uuid,ne=C.interpolation!==void 0?ia[C.interpolation]:hi,W=[];Ee[O.path]===Ee.weights?w.traverse(function(S){S.morphTargetInfluences&&W.push(S.name?S.name:S.uuid)}):W.push(j);let $=E.array;if(E.normalized){const S=en($.constructor),B=new Float32Array($.length);for(let D=0,z=$.length;D<z;D++)B[D]=$[D]*S;$=B}for(let S=0,B=W.length;S<B;S++){const D=new F(W[S]+"."+Ee[O.path],x.array,$,ne);C.interpolation==="CUBICSPLINE"&&(D.createInterpolant=function(se){const oe=this instanceof vn?na:Ai;return new oe(this.times,this.values,this.getValueSize()/3,se)},D.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline=!0),m.push(D)}}const b=n.name?n.name:"animation_"+e;return new wr(b,void 0,m)})}createNodeMesh(e){const t=this.json,n=this,i=t.nodes[e];return i.mesh===void 0?null:n.getDependency("mesh",i.mesh).then(function(s){const o=n._getNodeRef(n.meshCache,i.mesh,s);return i.weights!==void 0&&o.traverse(function(a){if(a.isMesh)for(let l=0,d=i.weights.length;l<d;l++)a.morphTargetInfluences[l]=i.weights[l]}),o})}loadNode(e){const t=this.json,n=this.extensions,i=this,s=t.nodes[e],o=s.name?i.createUniqueName(s.name):"";return function(){const a=[],l=i._invokeOne(function(f){return f.createNodeMesh&&f.createNodeMesh(e)});l&&a.push(l),s.camera!==void 0&&a.push(i.getDependency("camera",s.camera).then(function(f){return i._getNodeRef(i.cameraCache,s.camera,f)})),i._invokeAll(function(f){return f.createNodeAttachment&&f.createNodeAttachment(e)}).forEach(function(f){a.push(f)});const d=[],u=s.children||[];for(let f=0,h=u.length;f<h;f++)d.push(i.getDependency("node",u[f]));const c=s.skin===void 0?Promise.resolve(null):i.getDependency("skin",s.skin);return Promise.all([Promise.all(a),Promise.all(d),c])}().then(function(a){const l=a[0],d=a[1],u=a[2];let c;if(s.isBone===!0?c=new xr:l.length>1?c=new Pt:l.length===1?c=l[0]:c=new li,c!==l[0])for(let f=0,h=l.length;f<h;f++)c.add(l[f]);if(s.name&&(c.userData.name=s.name,c.name=o),Te(c,s),s.extensions&&Ye(n,c,s),s.matrix!==void 0){const f=new wt;f.fromArray(s.matrix),c.applyMatrix4(f)}else s.translation!==void 0&&c.position.fromArray(s.translation),s.rotation!==void 0&&c.quaternion.fromArray(s.rotation),s.scale!==void 0&&c.scale.fromArray(s.scale);i.associations.has(c)||i.associations.set(c,{}),i.associations.get(c).nodes=e,u!==null&&c.traverse(function(f){f.isSkinnedMesh&&f.bind(u,ca)});for(let f=0,h=d.length;f<h;f++)c.add(d[f]);return c})}loadScene(e){const t=this.extensions,n=this.json.scenes[e],i=this,s=new Pt;n.name&&(s.name=i.createUniqueName(n.name)),Te(s,n),n.extensions&&Ye(t,s,n);const o=n.nodes||[],a=[];for(let l=0,d=o.length;l<d;l++)a.push(i.getDependency("node",o[l]));return Promise.all(a).then(function(l){for(let u=0,c=l.length;u<c;u++)s.add(l[u]);const d=u=>{const c=new Map;for(const[f,h]of i.associations)(f instanceof Lt||f instanceof bn)&&c.set(f,h);return u.traverse(f=>{const h=i.associations.get(f);h!=null&&c.set(f,h)}),c};return i.associations=d(s),s})}}function ua(r,e,t){const n=e.attributes,i=new Nr;if(n.POSITION!==void 0){const a=t.json.accessors[n.POSITION],l=a.min,d=a.max;if(l!==void 0&&d!==void 0){if(i.set(new Q(l[0],l[1],l[2]),new Q(d[0],d[1],d[2])),a.normalized){const u=en(ze[a.componentType]);i.min.multiplyScalar(u),i.max.multiplyScalar(u)}}else{console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.");return}}else return;const s=e.targets;if(s!==void 0){const a=new Q,l=new Q;for(let d=0,u=s.length;d<u;d++){const c=s[d];if(c.POSITION!==void 0){const f=t.json.accessors[c.POSITION],h=f.min,v=f.max;if(h!==void 0&&v!==void 0){if(l.setX(Math.max(Math.abs(h[0]),Math.abs(v[0]))),l.setY(Math.max(Math.abs(h[1]),Math.abs(v[1]))),l.setZ(Math.max(Math.abs(h[2]),Math.abs(v[2]))),f.normalized){const m=en(ze[f.componentType]);l.multiplyScalar(m)}a.max(l)}else console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.")}}i.expandByVector(a)}r.boundingBox=i;const o=new Ir;i.getCenter(o.center),o.radius=i.min.distanceTo(i.max)/2,r.boundingSphere=o}function Kn(r,e,t){const n=e.attributes,i=[];function s(o,a){return t.getDependency("accessor",o).then(function(l){r.setAttribute(a,l)})}for(const o in n){const a=Jt[o]||o.toLowerCase();a in r.attributes||i.push(s(n[o],a))}if(e.indices!==void 0&&!r.index){const o=t.getDependency("accessor",e.indices).then(function(a){r.setIndex(a)});i.push(o)}return Te(r,e),ua(r,e,t),Promise.all(i).then(function(){return e.targets!==void 0?sa(r,e.targets,t):r})}class fa{constructor(e,t){fe(this,"scene");fe(this,"element");fe(this,"camera");fe(this,"renderer");fe(this,"control");fe(this,"initState");fe(this,"clock");fe(this,"stats");fe(this,"mixer");this.element=e,this.initState={fov:60,near:.1,far:1e3,...t},this.stats=null,this.mixer=null,this.clock=new Dr,this.scene=new Hr,this.camera=this.setupCamera(),this.renderer=this.setupRenderer(),this.control=this.setupControl()}setupCamera(){const{fov:e,near:t,far:n}=this.initState,i=this.element.offsetWidth/this.element.offsetHeight,s=new fi(e,i,t,n);return s.position.set(30,40,60),s.lookAt(this.scene.position),s}setupRenderer(){var t;const e=new Br({alpha:!0,antialias:!0});return e.setSize(this.element.offsetWidth,this.element.offsetHeight),(t=this.initState)!=null&&t.background&&e.setClearColor(this.initState.background,1),e.outputEncoding=Ue,e.setPixelRatio(window.devicePixelRatio),this.element.appendChild(e.domElement),e}setupControl(){const e=new Mo(this.camera,this.renderer.domElement);return e.enablePan=!1,e.maxDistance=200,e.update(),e}renderModel(){if(this.stats!==null&&this.stats.update(),this.initState.enableAnimate){const e=this.clock.getDelta();this.mixer.update(e)}return this.control.update(),this.renderer.render(this.scene,this.camera),requestAnimationFrame(this.renderModel.bind(this)),this}loadGLTF(e,t){const n=new Io;return new Promise((i,s)=>{n.load(e,o=>{if(this.initState.enableAnimate){const a=new jr(o.scene);a.clipAction(o.animations[0]).play(),this.mixer=a}i(o)},o=>t==null?void 0:t(Math.round(o.loaded/o.total*100)),o=>s(o))})}addAxesHelper(e){const t=new $r(e);return this.scene.add(t),this}addGridHelper(e=100,t=10){const n=new zr(e,t,16711680,4473924);return this.scene.add(n),this}addGUI(){var n;const e=new Po;(n=this.initState)!=null&&n.background&&e.addFolder("场景").addColor(this.initState,"background").onChange(s=>this.renderer.setClearColor(s,1));const t=e.addFolder("摄像机");return t.add(this.camera,"fov",1,180).step(5).onChange(()=>this.camera.updateProjectionMatrix()),t.add(this.camera,"near",.1,1).step(.1).onChange(()=>this.camera.updateProjectionMatrix()),t.add(this.camera,"far",1,2e3).step(100).onChange(()=>this.camera.updateProjectionMatrix()),this}addStats(){const e=new No;return e.setMode(0),document.body.appendChild(e.domElement),this.stats=e,this}}const ha=r=>{const e=new Vr(11458289);r.add(e);const t=new ai(16377759,.3);t.position.set(50,50,50),r.add(t)},pa=()=>{const r=ri(),e=le(0);return{progress:e,init:async n=>{try{const i=new fa(n,{enableAnimate:!0}),s=new URL("/naive-ui-template/assets/smol_ame_in_an_upcycled_terrarium_hololiveen-e794eea8.glb",self.location).href,o=await i.loadGLTF(s,l=>{e.value=l}),{scene:a}=o;a.scale.set(20,20,20),a.position.y=-20,a.traverse(l=>{l.type==="SkinnedMesh"&&(l.frustumCulled=!1)}),ha(i.scene),i.scene.add(a),i.renderModel()}catch(i){console.error(i),r.warning("模型加载失败")}}}},Tt=r=>(ji("data-v-6873da41"),r=r(),$i(),r),ma={class:"view-account"},ga={class:"view-account-container"},_a={class:"view-account-top"},ba={class:"view-account-top-logo"},va=["src"],ya=Tt(()=>M("div",{class:"view-account-top-desc"},"你相信引力吗",-1)),wa={class:"view-account-form"},xa={class:"flex justify-between"},Ea={class:"flex-initial"},Ta=Tt(()=>M("div",{class:"flex-initial order-last"},[M("a",{href:"javascript:"},"忘记密码")],-1)),Aa={class:"flex view-account-other"},Sa=Tt(()=>M("div",{class:"flex-initial"},[M("span",null,"其它登录方式")],-1)),Ra={class:"flex-initial mx-2"},Ca={href:"javascript:"},ka={class:"flex-initial mx-2"},Oa={href:"javascript:"},La=Tt(()=>M("div",{class:"flex-initial",style:{"margin-left":"auto"}},[M("a",{href:"javascript:"},"注册账号")],-1)),Pa={class:"model-wrapper"},Ma=ce({__name:"index",setup(r){const e=le(),t=ri(),n=le(!1),i=le(!0),s=Fi({username:"admin",password:"123456",isCaptcha:!0}),o={username:{required:!0,message:"请输入用户名",trigger:"blur"},password:{required:!0,message:"请输入密码",trigger:"blur"}},a=Ki(),l=zi(),d=()=>{e.value.validate(async h=>{if(!h){const{username:v,password:m}=s;n.value=!0;const b={username:v,password:m};try{await a.login(b);const{redirect:_,...A}=l.currentRoute.value.query;await l.push({name:_||Xi.DefaultPath,query:{...A}}),t.success(Yi.Welcome)}finally{n.value=!1}}})},u=le(),{init:c,progress:f}=pa();return Xn(()=>{c(u.value)}),(h,v)=>{const m=Ur,b=Gr,_=Fs,A=qr,w=Wi,x=Zr,E=Us;return Ve(),at("div",ma,[M("div",ga,[M("div",_a,[M("div",ba,[M("img",{src:ke(co),alt:""},null,8,va)]),ya]),M("div",wa,[q(x,{ref_key:"formRef",ref:e,"label-placement":"left",size:"large",model:s,rules:o},{default:Z(()=>[q(_,{path:"username"},{default:Z(()=>[q(b,{value:s.username,"onUpdate:value":v[0]||(v[0]=C=>s.username=C),placeholder:"请输入用户名"},{prefix:Z(()=>[q(m,{size:"18",color:"#808695"},{default:Z(()=>[q(ke(lo))]),_:1})]),_:1},8,["value"])]),_:1}),q(_,{path:"password"},{default:Z(()=>[q(b,{value:s.password,"onUpdate:value":v[1]||(v[1]=C=>s.password=C),type:"password","show-password-on":"click",placeholder:"请输入密码"},{prefix:Z(()=>[q(m,{size:"18",color:"#808695"},{default:Z(()=>[q(ke(Xs))]),_:1})]),_:1},8,["value"])]),_:1}),q(_,{class:"default-color"},{default:Z(()=>[M("div",xa,[M("div",Ea,[q(A,{checked:i.value,"onUpdate:checked":v[2]||(v[2]=C=>i.value=C)},{default:Z(()=>[hn("自动登录")]),_:1},8,["checked"])]),Ta])]),_:1}),q(_,null,{default:Z(()=>[q(w,{type:"primary",size:"large",loading:n.value,block:"",onClick:Bi(d,["stop"])},{default:Z(()=>[hn(" 登录 ")]),_:1},8,["loading","onClick"])]),_:1}),q(_,{class:"default-color"},{default:Z(()=>[M("div",Aa,[Sa,M("div",Ra,[M("a",Ca,[q(m,{size:"24",color:"#2d8cf0"},{default:Z(()=>[q(ke(io))]),_:1})])]),M("div",ka,[M("a",Oa,[q(m,{size:"24",color:"#2d8cf0"},{default:Z(()=>[q(ke(Js))]),_:1})])]),La])]),_:1})]),_:1},8,["model"])])]),M("div",Pa,[ke(f)<100?(Ve(),Di(E,{key:0,type:"line",percentage:ke(f),"indicator-placement":"inside",processing:""},null,8,["percentage"])):Hi("",!0),M("div",{ref_key:"modelRef",ref:u,class:"model"},null,512)])])}}});const ja=Zi(Ma,[["__scopeId","data-v-6873da41"]]);export{ja as default};
